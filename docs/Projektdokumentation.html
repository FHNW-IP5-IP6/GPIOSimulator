<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>IP5: GPIOSimoulator</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_todo_einleitung">TODO: Einleitung</a></li>
<li><a href="#_anforderungen">1. Anforderungen</a></li>
<li><a href="#_hardware">2. Hardware</a></li>
<li><a href="#_software">3. Software</a>
<ul class="sectlevel2">
<li><a href="#_pi4j">3.1. Pi4J</a></li>
<li><a href="#_java">3.2. Java</a></li>
<li><a href="#_gradle">3.3. Gradle</a></li>
<li><a href="#_log4j_2">3.4. Log4j 2</a></li>
<li><a href="#_analyse_applikationsdesign">3.5. Analyse Applikationsdesign</a></li>
<li><a href="#_benutzeroberfläche">3.6. Benutzeroberfläche</a>
<ul class="sectlevel3">
<li><a href="#_integration_als_dependency">3.6.1. Integration als Dependency</a></li>
<li><a href="#_integration_als_standalone_applikation">3.6.2. Integration als Standalone Applikation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_todo_gpio_geräte_kennenlernen">4. TODO: GPIO Geräte kennenlernen</a></li>
<li><a href="#_simulatiosstrategie_1_iteration">5. Simulatiosstrategie: 1. Iteration</a>
<ul class="sectlevel2">
<li><a href="#_erste_idee">5.1. Erste Idee</a></li>
<li><a href="#_analyse_pi4j">5.2. Analyse Pi4J</a></li>
<li><a href="#_mögliche_vorgehensweisen">5.3. Mögliche Vorgehensweisen</a></li>
<li><a href="#_simulator_tutorial">5.4. Simulator = Tutorial</a></li>
<li><a href="#_simulator_auf_ebene_gpio">5.5. Simulator auf Ebene GPIO</a></li>
<li><a href="#_simulator_auf_ebene_device">5.6. Simulator auf Ebene Device</a></li>
<li><a href="#_entscheidung">5.7. Entscheidung</a></li>
</ul>
</li>
<li><a href="#_simulatiosstrategie_2_iteration">6. Simulatiosstrategie: 2. Iteration</a>
<ul class="sectlevel2">
<li><a href="#_problembeschreibung">6.1. Problembeschreibung</a></li>
<li><a href="#_simulatedgpioprovider_verwerden">6.2. SimulatedGpioProvider verwerden</a></li>
<li><a href="#_der_simulator_wird_zum_ausführlichen_tutorial">6.3. Der Simulator wird zum ausführlichen Tutorial</a></li>
<li><a href="#_entscheidung_2">6.4. Entscheidung</a></li>
</ul>
</li>
<li><a href="#_projektstrategie_tutorial">7. Projektstrategie: Tutorial</a></li>
<li><a href="#_todo_schluss">TODO Schluss</a></li>
<li><a href="#_todo_literaturverzeichnis">TODO Literaturverzeichnis</a></li>
<li><a href="#_todo_ehrlichkeitserklärung">TODO Ehrlichkeitserklärung</a></li>
<li><a href="#_anhang">Anhang</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="imageblock">
<div class="content">
<img src="./assets/images/FHNW.png" alt="FHNW" width="382" height="59">
</div>
</div>
<h1 id="_ip5_gpiosimoulator" class="discrete">IP5: GPIOSimoulator</h1>
<div class="paragraph">
<p><strong>Semesterarbeit von</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Herr Jonathan Bättig (<a href="mailto:jonathan.baettig@students.fhnw.ch">jonathan.baettig@students.fhnw.ch</a>)</p>
</li>
<li>
<p>Herr Anessollah Ima (<a href="mailto:anessollah.ima@students.fhnw.ch">anessollah.ima@students.fhnw.ch</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>FHNW</strong><br>
<strong>Hochschule für Technik</strong><br>
<strong>Studiengang</strong> : Informatik<br>
<strong>Semester</strong> : 6BB</p>
</div>
<div class="paragraph">
<p><strong>Betreuende Dozenten</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Frau Dr. Barbara Scheuner (<a href="mailto:barbara.scheuner@fhnw.ch">barbara.scheuner@fhnw.ch</a>)</p>
</li>
<li>
<p>Herr Dr. Dieter Holz (<a href="mailto:dieter.holz@fhnw.ch">dieter.holz@fhnw.ch</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Datum</strong>: 2020-08-10</p>
</div>
<div style="page-break-after: always;"></div>
<h2 id="_todo_summary" class="discrete">TODO: Summary</h2>
<div class="paragraph">
<p>TBD am Ende:<br>
Anhand dieses Textes soll eine Person entscheiden können, ob sie sich für ihr Thema interessiert.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Was wurde erreicht?</p>
</li>
<li>
<p>Was sind die Ergebnisse</p>
</li>
<li>
<p>Warum wurde es gemacht? Was war das Problem?</p>
</li>
<li>
<p>Wie wurde es gemacht/untersucht/getestet?</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
<h2 id="_todo_vorwort" class="discrete">TODO: Vorwort</h2>
<div style="page-break-after: always;"></div>
<h2 id="_inhaltsverzeichnis" class="discrete">Inhaltsverzeichnis</h2>
<!-- toc disabled -->
<div style="page-break-after: always;"></div>
<div class="sect1">
<h2 id="_todo_einleitung">TODO: Einleitung</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_anforderungen">1. Anforderungen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Die nachfolgende Tabelle enthält alle Anforderungen an den GPIO Simulator, welche wir während der Requirement Analyse identifizieren haben. Den einzelnen Anforderungen haben wir drei Prioriäten zugeteilt.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Priorität 1</strong>: Anforderungen an den MVP</p>
</li>
<li>
<p><strong>Priorität 2</strong>: Unterstützung der Grove Sensoren</p>
</li>
<li>
<p><strong>Priorität 3</strong>: Implementation User Interface</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Die Umsetzung der Requirements soll gemäss Ihrer Priorität erfolgen.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Anforderungen</caption>
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 77.7777%;">
<col style="width: 11.1112%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nummer</th>
<th class="tableblock halign-left valign-top">Beschreibung</th>
<th class="tableblock halign-left valign-top">Priorität</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen unabhängig von der Hardwareverfügbarkeit an ihren Raspberry Pi Projekten arbeiten können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen auf eine einfache und intuitive Art konfigurieren können, ob der Code auf dem GPIO Simulator oder auf dem Raspberry Pi ausgeführt wird.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen das Logging Level des GPIO Simulators konfigurieren können, ohne dass das Projekt neu gebaut werden muss.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die analogen und digitalen Pins des Raspberry Pi via Pi4J setzen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die analogen und digitalen Pins des GPIO Simulators setzen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die analogen und digitalen Pins des Raspberry Pi via Pi4J auslesen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die analogen und digitalen Pins des GPIO Simulators auslesen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die Grove Anschlüsse des Raspberry Pi via Pi4J setzen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die Grove Anschlüsse des GPIO Simulators setzen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die Grove Anschlüsse des Raspberry Pi via Pi4J auslesen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen mittels den vom GPIO Simulator zur Verfügung gestellten Funktionen die Grove Anschlüsse des GPIO Simulators auslesen können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Den Benutzern des GPIO Simulators sollen Code Beispiele für die gängigen Sensoren und Aktuatoren zur Verfügung stehen.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen vom GPIO Simulator Feedback in einem User Interface erhalten.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen im User Interface des GPIO Simulators alle gängigen Sensoren und Aktuatoren zur Verfügung haben.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen im User Interface des GPIO Simulators Sensoren und Aktuatoren mit dem Grove Hat verbinden können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anwender sollen die Konfiguration der Sensoren und Aktuatoren des GPIO Simulators speichern und wiederverwenden können.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_hardware">2. Hardware</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Zur Umsetzung unseres Projekts benötigen wir nebst einem Micro Computer noch diverse zusätzliche Hardware Komponenten. Dazu gehören vor allem eine Vielzahl von Sensoren und Aktuatoren. In der nachfolgenden Tabelle sind alle Komponenten festgehalten, welche uns zur Verfügung stehen.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Micro Computer</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anzahl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/" target="_blank" rel="noopener">Raspberry Pi 3 B+</a></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Freenove Box</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anzahl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.freenove.com/index.html">Freenove Ultimate Starter Kit for Raspberry Pi</a> (FNK0020)</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Sensoren &amp; Aktuatoren</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 87.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anzahl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Typ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove_Base_Hat_for_Raspberry_Pi/" target="_blank" rel="noopener">Grove Base Hat for Raspberry Pi</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-TemperatureAndHumidity_Sensor/" target="_blank" rel="noopener">Grove - Temperature &amp; Humidity Sensor</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Touch_Sensor/" target="_blank" rel="noopener">Grove – Touch</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Buzzer/" target="_blank" rel="noopener">Grove – Buzzer</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Magnetic_Switch/" target="_blank" rel="noopener">Grove - Magnetic Switch</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Rotary_Angle_Sensor/" target="_blank" rel="noopener">Grove Rotary Angle Sensor</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Gesture_v1.0/" target="_blank" rel="noopener">Grove - Gesture</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Button/" target="_blank" rel="noopener">Grove - Button</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Light_Sensor/" target="_blank" rel="noopener">Grove – Light Sensor</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Serial_Camera_Kit/" target="_blank" rel="noopener">Grove - Serial Camera</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Light-Gesture-Color-Proximity_Sensor-TMG39931/" target="_blank" rel="noopener">Grove – Light &amp; Gesture &amp; Color &amp; Proximity Sensor</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-I2C_Color_Sensor/" target="_blank" rel="noopener">Grove - I2C Color Sensor</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Temperature_Sensor_V1.2/" target="_blank" rel="noopener">Grove – Temperature Sensor</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Sound_Sensor/" target="_blank" rel="noopener">Grove – Sound Sensor</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-Ultrasonic_Ranger/" target="_blank" rel="noopener">Grove – Ultrasonic Ranger</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-LED_Strip_Driver/" target="_blank" rel="noopener">Grove – LED Strip Driver</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://wiki.seeedstudio.com/Grove-125KHz_RFID_Reader/" target="_blank" rel="noopener">Grove - RFID Reader</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.dexterindustries.com/pivotpi/" target="_blank" rel="noopener">PivotPi Board</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://www.raspberrypi.org/products/camera-module-v2/" target="_blank" rel="noopener">Raspberry Pi Camera V2</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_software">3. Software</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nebst der verwendeten Hardware benötigen wir auch einige Software Bibliotheken zur Umsetzung unseres Projektes. Da der Simulator auf Java basieren soll, verwenden wir ausschliesslich Java Libraries zur Implementation der gewünschten Funktionalität.</p>
</div>
<div class="sect2">
<h3 id="_pi4j">3.1. Pi4J</h3>
<div class="paragraph">
<p>Das Projekt Pi4J bietet vollzugriff auf die I/O Funktionalität des Raspberry Pi über eine objektorientierte Java API. Die Bibliothek abstrahiert die komplexe Hardware Programmierung und ermöglicht es Java Programmieren, sich auf die Implementation ihrer Logik zu konzentrieren.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Exportieren und Importieren von GPIO Pins</p>
</li>
<li>
<p>Konfigurieren der GPIO Pin Flussrichtung</p>
</li>
<li>
<p>Lesen und schreiben des GPIO Pin State</p>
</li>
<li>
<p>Pulse Width Modulation (Hardware &amp; Software)</p>
</li>
<li>
<p>Erstellen von GPIO State Listeners (Hardware Interrupt)</p>
</li>
<li>
<p>Automatisches setzen eines Pin State bei Programmende (GPIO Shutdown)</p>
</li>
<li>
<p>Senden und empfangen von Daten via serielle Schnittstelle (RS232)</p>
</li>
<li>
<p>Support für Kommunikation über den I2C Bus (Inter-Integrated Circuit)</p>
</li>
<li>
<p>Support für Kommunikation über den SPI Bus (Serial Peripheral Interface)</p>
</li>
<li>
<p>Erweiterbarer GPIO Provider mit Support für GPIO Extension Boards</p>
</li>
<li>
<p>Zugriff auf System- und Netzwerkinformationen des Raspberry Pi</p>
</li>
<li>
<p>Wrapper Klassen für den direkten Zugriff auf WiringPi</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Zu Projektstart war geplant, dass wir für unser Projekt die Pi4J Bibliothek in der aktuellsten Snapshot Version 1.4 verwenden werden, welche sich noch in Entwicklung befindet. Basis für diesen Entscheid war die Tatsache, dass Pi4J 1.4 Java 11 unterstützen soll. Die release Version 1.2 unterstützt lediglich Java 8 und ist deshalb weniger interessant. Im Verlauf unseres Projekts mussten wir diesen Entscheid jedoch überdenken. Es hat sich herausgestellt, dass der aktuelle Stand von Pi4J 1.4 nicht die gewünschte Stabilität für unser Projekt bieten kann. Bei der Arbeit an unseren Code Beispielen für den I2C LCD-Display sind wir auf Probleme gestossen, welche direkt mit der Pi4J Version zusammenhängen. Die I2C Schnittstelle wird in Kombination mit Java 11 nicht unterstützt. Zu diesem Problem gibt es bereits ein offenes GibHub Issue auf dem Pi4J Projekt, welches als Workaround ein Downgrade auf Java 8 vorschlägt. Grundsätzlich war es aber das Ziel, durch den Einsatz von Pi4J 1.4 Java 8 zu vermeiden. Zusätzlich sind die Device Klassen, welche ein einfaches Interface für die Ansteuerung einer Vielzahl von Sensoren und Aktuatoren erlaubt, in Pi4J 1.4 nicht mehr enthalten. Diese wurden von den Entwicklern aus dem Projekt entfernt, da die Device Implementation kaum von Anwendern benutzt wurden. Für den GPIO Simulator sind diese  Implementationen allerdings sehr interessant. Sie vereinfachen die Ansteuerung der Hardwarekomponenten und sind somit bestens für Studenten in den ersten Semestern geeignet.</p>
</div>
<div class="paragraph">
<p>Die Tatsache, dass in Pi4J 1.4 die Device Klassen fehlen und Java 11 wohl doch noch nicht komplett unterstütz wird, hat uns dazu bewegt, dass wir für unser Projekt auf die aktuelle Release Version 1.2 zurückgreifen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_java">3.2. Java</h3>
<div class="paragraph">
<p>Ursprünglich wollten wir für unser Projekt Java 11 verwenden. Aus kompatibilitätsgründen mit Pi4J 1.2 setzen wir nun Java 8 als Basis ein.</p>
</div>
</div>
<div class="sect2">
<h3 id="_gradle">3.3. Gradle</h3>
<div class="paragraph">
<p>Um unser Projekt auf dem Raspberry Pi oder dem Computer zu bauen, verwenden wir das Build Management Tool Gradle in der Version 6.2.1. Die Konfiguration des Builds wird via das File <code>build.gradle</code> realisiert. Anschliessend kann das Projekt via Konsole gebaut werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_log4j_2">3.4. Log4j 2</h3>
<div class="paragraph">
<p>Die Log Funktionalität ist für unser Produkt essenziell. Die Umsetzung des Loggings ist Bestandteil des Minimum Viable Product. Ziel ist es, dass alle Interaktionen mit den GPIO Pins und Grove Adaptoren in einem geeigneten Format geloggt werden. Für Java stehen bereits diverse Logging Frameworks zur verfügung. Ein weit verbreiteter und beliebter Vertreter ist Log4j 2 von Apache. Es beitet die Funktionalität, Logs in eine Rolling File zu schreiben. Ein solches File eignet sich hervorragen für unsere Zwecke, weshalb wir uns für die Verwendung dieses Frameworks entschieden haben.</p>
</div>
</div>
<div class="sect2">
<h3 id="_analyse_applikationsdesign">3.5. Analyse Applikationsdesign</h3>
<div class="paragraph">
<p>Durch die Ergebnisse der Anforderungsanalyse haben wir viele neue Erkentnisse gewonnen. Diese Erkenntnisse bilden die Basis für technische Entscheidungen, welche wir in diesem Kapitel festhalten.</p>
</div>
</div>
<div class="sect2">
<h3 id="_benutzeroberfläche">3.6. Benutzeroberfläche</h3>
<div class="paragraph">
<p>Ein wichtiger Entscheid, welcher in diesem Projekt getroffen werden muss, ist die Integrationsart der Benutzeroberfläche des Simulators. Unsere Analyse hat gezeigt, dass es zwei verschiedene Möglichkeiten gibt, wie das User Interface mit dem Backend des Simulators verbunden werden kann. Einerseits können wir den Simulator als Stand-Alone Applikation zur Verfügung stellen, andererseits könnte der Simulator auch direkt als Dependance in das Projekt der Anwender inkludiert werden. Beide Vorgehensweisen sind im Kern gleich, haben aber ihre jeweiligen Vor- und Nachteile, auf welche wir in den folgenden Unterkapiteln eingehen.</p>
</div>
<div class="sect3">
<h4 id="_integration_als_dependency">3.6.1. Integration als Dependency</h4>
<div class="paragraph">
<p>Bei diesem Integrationstyp wird der komplette Simulator zu einem festen Bestandteil des Raspberry Pi Projektes des Anwenders. Das Projekt umfasst nebst dem vom Anwender selbst geschriebenen Code, welcher schlussendlich auf dem Raspberry Pi ausgeführt werden soll, zusätzlich das gesamte User Interface des Simulators. Dies führt dazu, dass das Projekt des Anwenders um einiges grösser wird. Allerdings würde uns die direkte Integration unsere Arbeit erleichtern. Der Datenaustausch zwischen User Code und UI könnte über die uns bereits aus dem Unterricht bekannten UI Bindings von JavaFX implementiert werden. Des Weiteren gibt uns die Integration des Simulators in das Projekt des Anwenders mehr Freiheit bezüglich der Konfiguration des Simulators. Einerseits könnte das User Interface gleich aus dem Code des Anwenders generiert werden, andererseits könnte die Konfiguration der GPIO Schnittstellen auch im Simulator selbst erfolgen.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Konfiguration via Code</strong></span></p>
</div>
<div class="paragraph">
<p>Unter Verwendung dieser Konfigurationsart entscheidet der Code des Benutzers, welche Sensoren und Aktuatoren an welche virtuellen Anschlüsse des Simulators angeschlossen werden. Sobald der Benutzer den Code unter Verwendung des GPIO Simulators startet, generiert der Simulator das UI gemäss den im Code verwendeten Pins, Sensoren und Aktuatoren. Ein wesentlicher Vorteil dieses Konfigurationstyps ist sicher die Einfachheit der Anwendung. Der Benutzer muss sich lediglich um seinen Code kümmern. Genau so wie die Sensoren im Code verwendet werden, werden diese auch im Simulator angezeigt. Es ist somit ausgeschlossen, dass Pins verwendet werden, welche nicht mit Sensoren oder Aktuatoren verbunden sind. Dies kann aber auch ein Nachteil sein, da diese Konfigurationsart nicht wirklich der Realität entspricht, welche man in einem IoT Projekt antrifft. Dort ist der Anwender für die Verkabelung der Sensoren und Aktuatoren mit dem Raspberry Pi selbst verantwortlich. Es kann durchaus passieren, dass beispielsweise die falschen Pins verbunden werden. Dieser Aspekt würde unter Verwendung der aus dem Code generierten Konfiguration verloren gehen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Dependency_Integration_Code.png" alt="500" width="500" height="Design Dependecy">
</div>
<div class="title">Figure 1. Dependency Integration mit Konfiguration im Code</div>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Konfiguraiton via Simulator</strong></span></p>
</div>
<div class="paragraph">
<p>Bei diesem Konfigurationstyp wird die Konfiguration direkt im Simulator vorgenommen. Nachdem ein Anwender seinen Code Ausführt, öffnet sich das UI des GPIO Simulators. Der Benutzer kann nun via Drag and Drop Sensoren und Aktuatoren im dafür vorgesehenen Bereich platzieren und diese mit den GPIO oder Grove Pins des virtuellen GroveHat verbinden. Nachdem der Benutzer die Konfiguration abgeschlossen hat, kann er dies über einen Button bestätigen und die Simulation startet. Der Vorteil dieses Konfigurationstyps liegt ganz klar in der Realitätsnähe, welche über die Konfiguration via Code fehlt. Der Benutzer hat die Möglichkeit, Sensoren und Aktuatoren falsch anzuschliessen und muss dem Problem selbst nachgehen. Dies erhöht den Lerneffekt und trägt zum Verständnis bei. Nachteil ist allerdings, dass die Konfiguration erst nach dem Starten des Codes gemacht werden kann.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Dependency_Integration_Simulator.png" alt="500" width="500" height="Design Dependecy">
</div>
<div class="title">Figure 2. Dependency Integration mit Konfiguration im Simulator</div>
</div>
</div>
<div class="sect3">
<h4 id="_integration_als_standalone_applikation">3.6.2. Integration als Standalone Applikation</h4>
<div class="paragraph">
<p>Bei diesem Integrationstyp wird der Simulator zu einer separaten Applikation, die auf einem eigenen Prozess läuft. Der Code des Anwenders läuft bei seiner Ausführung komplett unabhängig vom Simulator selbst. Die Unabhängigkeit der Projekte macht die Kommunikation zwischen den beiden Programmen komplizierter, da ein neuer indirekter Weg für die Datenübertragung gefunden werden muss. Eine Stand-Alone Applikation hätte aber den Vorteil, dass die Konfiguration des Simulators nicht erst zur Laufzeit stattfinden müsste. Man könnte den Simulator also starten und konfigurieren, ohne den Code bereits geschrieben zu haben. Ein Benutzer könnte dann die Simulation starten und gegen den Simulator programmieren. Immer wenn der Anwender seinen Code ausführt, kann er direkt im Simulator sehen, ob der Code die gewünschte Wirkung hat. Der Entwickler bekommt also Echtzeit Feedback. Dieser Integrationstyp simuliert die Realität sicher am besten, da der Raspberry Pi auch eine separate Instanz ist, an welche unabhängig von der Entwicklungsumgebung Sensoren und Aktuatoren angeschlossen werden können.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Standalone_Integration.png" alt="500" width="500" height="Design Standalone">
</div>
<div class="title">Figure 3. Stand-Alone Integration</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_gpio_geräte_kennenlernen">4. TODO: GPIO Geräte kennenlernen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Beschreiben wie wir zunächst die GPIO Devices kennengelernt haben und angefangen haben Beispiele zu erarbeiten.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simulatiosstrategie_1_iteration">5. Simulatiosstrategie: 1. Iteration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nebst der Frage, wie wir den Simulator integrieren möchten, müssen wir uns darüber Gedanken machen, wie wir den Switch zwischen Simulator und Hardware für den Benutzer möglichste einfach gestalten können. Grundsätzlich ist es das Ziel, dass der Benutzer den Code nur an einer einzigen Stelle ändern muss, um zwischen Simulator und Hardware zu wechseln. Auch denkbar wäre eine Konfiguration ausserhalb des Codes mittels Konfigurationsdatei.</p>
</div>
<div class="sect2">
<h3 id="_erste_idee">5.1. Erste Idee</h3>
<div class="paragraph">
<p>Zu Beginn des Projektes war es unser Plan, das Factory Design Pattern zu verwenden, um zwischen der Simulation und dem effektiven Hardwarezugriff via Pi4J zu differenzieren. Pi4J implementiert nämlich selbst das Factory Pattern, was wir und zu Nutzen machen wollten. In einem IoT Projekt mit Pi4J muss immer zuerst die gewünschte Factory instanziiert werden. Zum Beispiel GpioFactory, I2CFactory oder die SerialFactory.</p>
</div>
<div class="paragraph">
<p>Der Backend Code des Simulator und Pi4J wären dann in einem Projekt gekapselt und der Anwender man müsste nur im obersten Zugriffspunkt eine kleine Veränderung vornehmen, um zwischen Simulator und Pi4J zu wechseln.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/GpioSimulatorFactory_Idee.png" alt="500" width="500" height="Factory Idee">
</div>
<div class="title">Figure 4. Simulator Factory</div>
</div>
<div class="paragraph">
<p>Zur Umsetzung des Factory Pattern hätten wir eine Globale Factory implementieren müssen, von welcher sowohl Pi4J als auch unser Simulator erbt. Im oben abgebildeten Diagramm wird diese Factory durch die Klasse <code>GpioSimulatorFactory</code> verkörpert. Leider hat sich diese Vorgehensweise nicht bewährt, da wir die Klassen in Pi4J nicht bearbeiten können.</p>
</div>
<div class="paragraph">
<p>Um das Problem mit der Bearbeitung des Codes von Pi4J zu umgehen, könnten wir einen Fork des GitHub Projektes machen und auf diesem Fork die nötigen Anpassungen vornehmen. Wir hätten somit eine FHNW-Version von Pi4J. Allerdings würde dies einen sehr grossen initialen Aufwand bedeuten, was den Rahmen unseres IP 5 Projektes sprengen würde. Des Weiteren müsste der gesamte Code in Zukunft gewartet und modernisiert werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_analyse_pi4j">5.2. Analyse Pi4J</h3>
<div class="paragraph">
<p>Da eine FHNW-Version von Pi4J nicht in Frage kommt, müssen wir eine andere Möglichkeit finden, wie wir die Simulation implementieren können. Zunächst gilt es, das gesamte Pi4J-Paket zu analysieren. Die Analyse soll uns dabei unterstützen, neue Simulationsstrategien zu finden.</p>
</div>
<div class="paragraph">
<p>Das Projekt Pi4J ist aufgeteilt in:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>pi4j-core</strong>:<br>
Stellt alle Klassen und Methoden zur Verfügung, um direkt auf die GPIO Pins zuzugreifen.</p>
</li>
<li>
<p><strong>pi4j-device</strong>:<br>
Ist ein Abstraktions Layer, der die Nutzung von Sensoren und Aktuatoren vereinfacht, indem eigene Klassen zur Verfügung gestellt werden.</p>
</li>
<li>
<p><strong>pi4j-distribution</strong>:<br>
Enthält Scripts und Dateien, welche man für die Installation und Deinstallation benötigt.</p>
</li>
<li>
<p><strong>pi4j-example</strong>:<br>
Enthält Beispiele für Verschiedene Devices, die mit Pi4J angesteuert werden können.</p>
</li>
<li>
<p><strong>pi4j-gpio-extension</strong>:<br>
Enthält Software für die erleichterte Verwendung von Extenstion Boards wie z.B PiFace.</p>
</li>
<li>
<p><strong>pi4j-native</strong>:<br>
Enthält native Scripts für weitere Entwicklungsboards wie NanoPi oder BananaPi.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In unserem Projekt benötigen wir ausschliesslich die ersten beiden Projekte. pi4j-core und pi4j-device. Alle weiteren Bestandteile von Pi4j benötigen wir nicht.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mögliche_vorgehensweisen">5.3. Mögliche Vorgehensweisen</h3>
<div class="paragraph">
<p>Auf Basis unserer Analyse gilt es eine Entscheidung zu treffen, wie wir den Switch zwischen Simulator uns Hardware technisch umsetzen möchten. Wir haben uns zusammen mit unseren Projektpartnern auf die folgenden drei Möglichkeiten geeinigt.</p>
</div>
</div>
<div class="sect2">
<h3 id="_simulator_tutorial">5.4. Simulator = Tutorial</h3>
<div class="paragraph">
<p>Bei dieser Vorgehensweise entfällt der Simulator Aspekt unseres Projektes. Das Ziel unserer Arbeit wäre es nicht mehr, einen Simulator für Sensoren und Aktuatoren auf Basis von Pi4J zu implementieren, sondern das zur Verfügung stellen von Abstraktionen für Sensor- und Aktuator-Zugriffe begleitet durch ein informatives Tutorial. Der Fokus des Projektes liege dann in der Unterstützung von Studentinnen und Studenten der ersten Semester bei der Umsetzung Ihrer IoT Projekte durch die von uns gesammelten Erfahrungen.</p>
</div>
<div class="paragraph">
<p>Wenn wir uns für diese Vorgehensweise entscheiden, müssen wir für die Wichtigsten uns zur Verfügung stehenden Sensoren und Aktoren Abstraktionen sowie Beispiele sowie ausarbeiten, welche den Studierenden als direkte Referenz dienen können. Durch das zur Verfügung stellen von guten, konkreter Code Beispielen müssen sich die Studierenden weniger mit der Hardware selbst beschäftigen und können somit besser parallel am Projekt arbeiten.</p>
</div>
</div>
<div class="sect2">
<h3 id="_simulator_auf_ebene_gpio">5.5. Simulator auf Ebene GPIO</h3>
<div class="paragraph">
<p>Bei dieser Vorgehensweise würden wir das Ziel verfolgen, alle Funktionen von Pi4J-Core simulieren zu können. Da Pi4J-Core der Kern von Pi4J ist und dieses Packet direkt mit den GPIO Pins arbeitet, bieten sich die GPIO Pins als geeignete Docking-Station für unseren Simulator an. Wenn wir die GPIO Pins simulieren können, so könnten wir letztlich sämtliche GPIO Befehle simulieren und somit jegliche Projekte komplett unterstützt.</p>
</div>
<div class="paragraph">
<p>Allerdings erachten wir die Simulation auf dieser Ebene als schwierig umzusetzen. Die Schwierigkeit bestünde hauptsächlich im Umfang der Pi4J-Core Library. Die Bibliothek ist sehr gross und es ist für uns unvorhersehbar, welche Bereiche wirklich von den Studenten benötigt werden würden. Wir mussten dies bereits bei der Arbeit an den Beispielen für die Sensoren und Aktoren feststellen. Selbst bei der Verwendung eines einfachen Buttons dringt man beim Debuggen sehr schnell in die Tiefen von Pi4J ein und landet in diversen weiteren Libraries, welche im Projekt inkludiert sind.  Beispielsweise wird für manche Geräte WiringPi benötigt. Eine Library, welche in Pi4J inkludiert ist.</p>
</div>
<div class="paragraph">
<p>Eine Simulation auf GPIO Ebene würde dazu führen, dass der Simulator sehr umfangreich wäre und ein höheres Risiko bestünde, dass die Menge der Arbeit im Backend explosionsartig zunehmen könnte. Es wäre durchaus möglich, dass durch einen möglichen Zeitverlust an der Arbeit im Backend die Usability und die Arbeit an der Benutzeroberfläche zu kurz kommt oder kaum begonnen werden kann.</p>
</div>
<div class="paragraph">
<p>Wenn wir uns für dieses Vorgehen entscheiden, müssen wir damit umgehen können, dass das Projekt womöglich bis zur Deadline nicht im gewünschten Status ist.</p>
</div>
</div>
<div class="sect2">
<h3 id="_simulator_auf_ebene_device">5.6. Simulator auf Ebene Device</h3>
<div class="paragraph">
<p>Bei dieser Vorgehensweise würden wir das Ziel verfolgen, alle Funktionen von Pi4J-Device simulieren zu können. Der Umfang des Pi4J-Device Layer ist definitiv überschaubarer derjenige von Pi4J-Core. Pi4J-Device bietet direkt Klassen für einzelne Devices an, welche die nötigen GPIO Zugriffe abstrahieren.</p>
</div>
<div class="paragraph">
<p>Ansetzen würden wir bei dieser Implementationsart also direkt bei den Device Beispielen von Pi4J. Für die oft verwendeten Devices würden wir eine eigene Klasse implementieren, welche die Simulation übernimmt. Die Studentinnen und Studenten könnten in Ihrem Code wählen, welches Device sie verwenden möchten. Entweder die durch uns implementierte Simulation oder das Pi4J-Device, welches direkt auf die Hardware zugreift. Dies hätte für uns den Vorteil, dass die Arbeit im Backend im Vergleich zur Simulation der GPIO Pins wesentlich geringer wäre und weniger Risiken birgt.</p>
</div>
<div class="paragraph">
<p>Leider haben wir während unseren Recherchen festgestellt, dass Pi4J-Device in zukünftigen Releases nicht mehr weitergeführt wird. Aus diesem Grund bräuchte man eine eigene Pi4J-Device Version, welche dann von der FHNW weitergeführt werden könnte, wenn beispielsweise neue Devices benötigt werden.</p>
</div>
<div class="paragraph">
<p>Wenn wir uns für dieses Vorgehen entscheiden, brauchen wir also eine eigene FHNW-Version von Pi4J Device, welche weitergeführt und gewartet werden muss.</p>
</div>
</div>
<div class="sect2">
<h3 id="_entscheidung">5.7. Entscheidung</h3>
<div class="paragraph">
<p>Letztendlich haben wir uns für die Simulation auf Ebene von Pi4J-Device entschieden, da das Risiko und der Umfang der Simulation der GPIO Pins schlicht und einfach zu unvorhersehbar gewesen wäre. Der Tutorial-Aspekt des Projektes geht dabei auch nicht verloren, da wir für alle Geräte 3 Beispiele machen werden:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ein Beispiel, welches direkt mit den GPIO Pins arbeitet.</p>
</li>
<li>
<p>Ein Beispiel, welches die Pi4J-Device Klasse des Geräts verwendet.</p>
</li>
<li>
<p>Ein Beispiel, welches den GPIO-Simulator verwendet.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Anhand der zur Verfügung gestellten Beispielen können sich die angehenden Studentinnen und Studenten bestens für die von Ihnen präferierte Vorgehensweise für ihr Projekte entscheiden und lernen durch das Studieren der Beispielcodes sicherlich vieles dazu, was Ihnen später bei der Implementierung hilft.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_simulatiosstrategie_2_iteration">6. Simulatiosstrategie: 2. Iteration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Während er Arbeit am Simulator auf Basis von Pi4J-Device sind wir nach einiger Zeit auf neue Hindernisse gestossen, welche sich als unüberwindbar herausgestellt haben. Deshalb mussten wir unser Vorgehen erneut überdenken.</p>
</div>
<div class="sect2">
<h3 id="_problembeschreibung">6.1. Problembeschreibung</h3>
<div class="paragraph">
<p>Um die Devices simulieren zu können, haben wir eine Factory erstellt, welche im Konstruktor einen Boolean annimmt. Dieser Boolean bestimmt dann, welcher Typ von Device zurückgegeben wird. Entweder ein Pi4J-Device oder unser Custom Simulator Device. Der Untere Java Code zeigt einen solchen Konstruktor für das LED Device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public LEDBase getLED(GpioPinDigitalOutput pin) {
    LEDBase led = simulator ? new GpioLEDSimulator(pin) : new GpioLEDComponent(pin);
    return led;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das Simulator LED Device unterstützt im Moment lediglich die Funktion blink(), welche wiederum die Funktionen on() und off() aufrufen. In den beiden letzteren Funktionen haben wir jeweils einfach den aktuellen Status mittels Log4j 2 auf die Konsole sowie in ein Rolling File geschrieben.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Override
public Future&lt;?&gt; blink(long delay) {
    return executor.submit(() -&gt; {
        while (true) {
            if (isOn())
                off();
            else
                on();
            Thread.sleep(delay);
        }
    });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Um unsere Implementation zu testen, haben wir die Klasse <code>BlinkLedDevice</code> so modifiziert, dass wir eine <code>LEDBase</code> vom Typ <code>GpioLEDSimulator</code> erhalten. Dies haben wir durch den im Konstruktor der Factory übergebenen Boolean festgelegt. Auf dem Simulator Device Rufen wir nun die <code>bink()</code> Funktion auf.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public class BlinkLedDevice extends Example {

    public BlinkLedDevice(int key, String title) {
        super(key, title);
    }

    @Override
    public void execute() throws Exception {
        GpioFactory.setDefaultProvider(new RaspiGpioProvider(RaspiPinNumberingScheme.BROADCOM_PIN_NUMBERING));
        final GpioController gpio = GpioFactory.getInstance();

        GpioPinDigitalOutput led = gpio.provisionDigitalOutputPin(RaspiBcmPin.GPIO_02, "Blinking LED" , PinState.LOW);
        led.setShutdownOptions(true, PinState.LOW);

        // new GpioSimulatorFactory(true) =&gt; Is a Simulator Factory
        GpioSimulatorFactory gpioSimulatorFactory = new GpioSimulatorFactory(true);
        LEDBase ledComponent = gpioSimulatorFactory.getLED(led);

        Console console = new Console();
        console.promptForExit();

        long delay = 1000;
        console.println("start blinking with "+delay+" delay");

        ledComponent.blink(delay);

        gpio.shutdown();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beim Testen unseres Codes mussten wir allerdings feststellen, dass diverse Pi4J Aufrufe nicht funktionieren, welche für die Ausführung des Codes auf dem Raspberry Pi allerdings immer von Nöten sein werden. Beispielsweise ist es uns nicht möglich, über die statische Klasse <code>GpioFactory</code> den Default-Provider zu setzen, wenn wir als Provider den <code>RaspiGpioProvider</code> verwenden. Dieser greift in seinen Tiefen auf WiringPi zu. WiringPi erwartet dann gewisse Files an einem bestimmten Ort auf einem Linux System. Diesen Pfad findet er auf einem Windows Rechner natürlich nicht und wirft deshalb bei der Ausführung des Codes folgende Fehlermeldung:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>SCHWERWIEGEND: Unable to load [libpi4j.so] using path: [/lib/raspberrypi/dynamic/libpi4j.so]
java.lang.IllegalArgumentException: The path has to be absolute, but found: \lib\raspberrypi\dynamic\libpi4j.so</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wenn wir unseren Code im Simulator Modus auf dem Raspberry Pi laufen lassen, funktioniert die Simulation problemlos. Wir erhalten dann den gewünschten Log.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>10:16:37.993 [pool-2-thread-1] INFO  gpiosimulator.GpioSimulatorFactory - LED is on
10:16:38.996 [pool-2-thread-1] INFO  gpiosimulator.GpioSimulatorFactory - LED is off
10:16:39.997 [pool-2-thread-1] INFO  gpiosimulator.GpioSimulatorFactory - LED is on
10:16:40.999 [pool-2-thread-1] INFO  gpiosimulator.GpioSimulatorFactory - LED is off
10:16:42.000 [pool-2-thread-1] INFO  gpiosimulator.GpioSimulatorFactory - LED is on</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ein möglicher Workaround wäre das Benutzen eines anderen Providers anstelle des RaspiGpioProvider. Pi4J stellt nämlich einen SimulatedGpioProvidre zur Verfügung.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">GpioFactory.setDefaultProvider(new SimulatedGpioProvider());</code></pre>
</div>
</div>
<div class="paragraph">
<p>Momentan wissen wir, dass dieser Provider das gleiche Interface implementiert wie der RaspiGpioProvider. Allerdings retourinert er überall einfach null oder löst bestimmte Events schlicht nicht aus. Wenn wir diesen Provider in einem unserer GPIO Beispiele verwenden, passiert einfach nichts.</p>
</div>
<div class="paragraph">
<p>Wir haben uns über das weitere Vorgehen Gedanken gemacht und haben die folgenden weiteren Vorgehensweisen erarbeitet.</p>
</div>
</div>
<div class="sect2">
<h3 id="_simulatedgpioprovider_verwerden">6.2. SimulatedGpioProvider verwerden</h3>
<div class="paragraph">
<p>Generell gehen wir davon aus, dass wir unter Verwendung des SimulatedGpioProvider den Simulator wie geplant implementieren können. Der Benutzer müsste seinen Code jedoch nicht nur an einer Stelle anpassen, sondern an mindestens zwei. Das wäre aber wohl noch verkraftbar.</p>
</div>
<div class="paragraph">
<p>Durch unsere bisherig gesammelten Erfahrungen mit den Sensoren und Aktuatoren sind wir uns aber unsicher, wie viel eine Simulation dem Studenten schlussendlich überhaupt an Mehrwert bringt. Wenn wir beispielsweise ein I2C LCD simulieren würden, könnten wir lediglich den Text an einem bestimmten Ort (Konsole / File / Simulator) weitergeben und anzeigen. Ob nun die Verkabelung stimmt und der Text in die richtigen Bytes zerlegt wird, können wir kaum testen oder sicherstellen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_der_simulator_wird_zum_ausführlichen_tutorial">6.3. Der Simulator wird zum ausführlichen Tutorial</h3>
<div class="paragraph">
<p>Diesen Ansatz haben wir bereits besprochen. Resultat der Projektarbeit wären eine Art Guide für die Verwendung von Pi4J Devices, welche wir mit unseren eigen FHNW-Devices ergänzen können. Zusätzlich würden wir noch den Grove Hat und dessen Adapter unterstützen. Wir bieten dem Studenten somit stabile Beispiele, dessen Funktionsfähigkeit auf der verwendeten Hardware garantiert werden kann. Unserer Meinung nach wäre dieser Ansatz wesentlich gewinnbringender für die Studierenden als eine oberflächliche Simulation. Die schwierige Arbeit bei einem IoT Projekt hängt nämlich immer von der verwendeten Hardware ab.</p>
</div>
</div>
<div class="sect2">
<h3 id="_entscheidung_2">6.4. Entscheidung</h3>
<div class="paragraph">
<p>Gemeinsam mit unseren Coaches haben wir uns dafür entschieden, ein ausführliches Tutorial zu schreiben, da es schlussendlich erfolgsversprechender ist und einen grösseren Nutzen für die Studierenden hat.</p>
</div>
<div class="paragraph">
<p>Das Tutorial soll ein separates Dokument sein und muss am Anfang ein Setup Guide für den Raspberry Pi enthalten. Alternativ kann auch ein Image für die angehenden Studenten zur Verfügung gestellt werden, um das Setup zu erleichtern.</p>
</div>
<div class="paragraph">
<p>Bei den Code Beispielen muss ausserdem darauf geachtet werden, dass sie nicht zu komplexe Themen wie Asynchronität ansprechen, da solche Themen den Rahmen eines Projektes für das erste und zweite Semester sprengen.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_projektstrategie_tutorial">7. Projektstrategie: Tutorial</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Das Ziel des Tutorials soll es sein, die Anlaufstelle für Hilfestellungen bezüglich der oftverwendeten Sensoren und Aktuatoren unter <a href="#_hardware">Hardware</a> zu sein. Zudem sollte genau erklärt werden, wie ein IoT-Projekt in Java eingerichtet wird und wie die  Komponentenklassen als API eingebunden werden.</p>
</div>
<div class="paragraph">
<p>Um diese Anforderungen zu erfüllen hat das Tutorial den folgenden Aufbau:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Allgemeine Beschreibung:</strong><br>
In diesem ersten Teil wird das Ziel des Tutorials und die verwendete Hardware beschrieben. Der Lesende soll verstehen womit in den darauffolgenden Kapiteln gearbeitet wird. Der Raspberry Pi, das Grove System mit den Grove Sensoren und Aktuatoren, sowie die verschiedenen Verbindungsmöglichkeiten der Devices sollen erklärt sein.</p>
</li>
<li>
<p><strong>Setup des Raspberry Pi:</strong><br>
In diesem Teil wird beschrieben wie der Raspberry Pi aufgesetzt werden kann, um IoT Projekte damit zu realisieren. Es soll ein möglichst benutzerfreundliches Setup für die Entwicklung gefunden werden.
Die Einrichtung soll detailiert beschrieben werden, da es wahrscheinlich ist, das andere Projekte aufgrund anderer Anfroderugen Veränderungen vornehmen müssen. Es soll ersichtlich sein, wie man den Code auf dem Pi ausführen lassen kann und was es dafür braucht.</p>
</li>
<li>
<p><strong>Komponentenklassen:</strong><br>
In diesem Teil werden alle Sensoren und Aktuatoren beschrieben, für welche eine Komponentenklasse in Java geschrieben wurde. Jede Komponentenbeschreibung soll folgende Unterpunkte beinhalten:</p>
<div class="ulist">
<ul>
<li>
<p>Eine grobe Beschreibung des Geräts, welches kurz auf den Aufbau und die Funktionsweise eingeht</p>
</li>
<li>
<p>Die Verkabelung an dem Breadboard oder direkt an dem Pi soll anhand eines Fritzings oder eines Bildes gezeigt werden.</p>
</li>
<li>
<p>Die Konstruktoren und öffentlichen Methoden der Komponentenklasse sollen in einer API-Tabelle dokumentiert sein</p>
</li>
<li>
<p>Zuletzt soll anhand eines Anwendungsbeispiels gezeigt werden, wie eine solche Komponentenklasse aufgerufen und verwendet werden kann.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Beispielprojekt:</strong><br>
In diesem Teil wird ein Beispielprojekt definiert, indem verschiedene Komponenten verwendet werden und zusammenspielen sollen.
Das Ziel des Beispielprojektes ist es, zu zeigen, wie von Grund auf ein neues Java IoT Projekt aufgesetzt werden kann und wie man in einem solchen Projekt die Komponentenklassen als API einbinden kann.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Das Beispielprojekt zeigt auch, wie das Logging der Komponentenklassen eingesetzt wird und wie ein neues Projekte auf dem Raspberry Pi mit gradle gebaut und ausgeführt wird.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Zusatzinformationen:</strong><br>
Dieser Teil dient als Ergänzung zu dem Abschnitt für die Komponentenklassen. In dem vorherigen Abschnitt werden die Komponenten als Blackbox beschrieben und gezeigt wie man die API verwenden kann, aber in diesem Teil wird darauf eingegangen, was im Hintergrund tatsächlich passiert und wie die Komponentenklassen geschrieben sind. Für Studierende welche sich ein tieferes Wissen über die einzelnen Geräte oder den Code dahinter interessieren, bietet dieses Kapitel die Abendlektüre. Wenn es zu Fehlern oder Ergänzungen kommt wird es sich auch lohnen den Zusatzinformationsteil zu durchforsten.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_schluss">TODO Schluss</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_literaturverzeichnis">TODO Literaturverzeichnis</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_ehrlichkeitserklärung">TODO Ehrlichkeitserklärung</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_anhang">Anhang</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-08-10 15:14:33 +0200
</div>
</div>
</body>
</html>