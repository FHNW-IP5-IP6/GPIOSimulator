<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>TODO Einleitung</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#_todo_einleitung">TODO Einleitung</a></li>
<li><a href="#_hardware">1. Hardware</a>
<ul class="sectlevel2">
<li><a href="#_raspberry_pi">1.1. Raspberry Pi</a></li>
<li><a href="#_grove_sensoren_aktuatoren">1.2. Grove Sensoren &amp; Aktuatoren</a></li>
<li><a href="#_grove_base_hat">1.3. Grove Base Hat</a>
<ul class="sectlevel3">
<li><a href="#_pwm">1.3.1. PWM</a></li>
<li><a href="#_uart">1.3.2. UART</a></li>
<li><a href="#_digital">1.3.3. Digital</a></li>
<li><a href="#_analog">1.3.4. Analog</a></li>
<li><a href="#_i2c">1.3.5. I2C</a></li>
</ul>
</li>
<li><a href="#_breadboard">1.4. Breadboard</a></li>
<li><a href="#_software">1.5. Software</a>
<ul class="sectlevel3">
<li><a href="#_pi4j">1.5.1. Pi4J</a></li>
<li><a href="#_java">1.5.2. Java</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_setup_des_raspberrypi">2. Setup des RaspberryPi</a>
<ul class="sectlevel2">
<li><a href="#_vorbereitung_der_mini_sd_karte">2.1. Vorbereitung der Mini SD-Karte</a></li>
<li><a href="#_raspberry_pi_mit_zusätzlicher_hardware_nutzen">2.2. Raspberry Pi mit zusätzlicher Hardware nutzen</a></li>
<li><a href="#_raspberry_pi_ohne_zusätzliche_hardware_nutzen">2.3. Raspberry Pi ohne zusätzliche Hardware nutzen</a>
<ul class="sectlevel3">
<li><a href="#_zugriff_über_ssh">2.3.1. Zugriff über SSH</a></li>
<li><a href="#_zugriff_über_wifi">2.3.2. Zugriff über WiFi</a></li>
<li><a href="#_zugriff_auf_ui_via_vnc_viewer">2.3.3. Zugriff auf UI via VNC Viewer</a></li>
</ul>
</li>
<li><a href="#_todo_installation_von_zusätzlicher_software_auf_dem_pi">2.4. TODO: Installation von zusätzlicher Software auf dem Pi</a>
<ul class="sectlevel3">
<li><a href="#_java_2">2.4.1. Java</a></li>
<li><a href="#_git">2.4.2. Git</a></li>
<li><a href="#_gradle">2.4.3. Gradle</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_todo_code_auf_dem_pi_bauen">3. TODO: Code auf dem Pi bauen</a></li>
<li><a href="#_beispiele">4. Beispiele</a>
<ul class="sectlevel2">
<li><a href="#_blink_led">4.1. Blink LED</a>
<ul class="sectlevel3">
<li><a href="#_verkabelung">4.1.1. Verkabelung</a></li>
<li><a href="#_code_beispiel">4.1.2. Code Beispiel</a>
<ul class="sectlevel4">
<li><a href="#_gpio_beispiel">4.1.2.1. GPIO Beispiel</a></li>
<li><a href="#_device_beispiel">4.1.2.2. Device Beispiel</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_button_click">4.2. Button Click</a>
<ul class="sectlevel3">
<li><a href="#_verkabelung_2">4.2.1. Verkabelung</a></li>
<li><a href="#_code_beispiel_2">4.2.2. Code Beispiel</a>
<ul class="sectlevel4">
<li><a href="#_gpio_beispiel_2">4.2.2.1. GPIO Beispiel</a></li>
<li><a href="#_device_beispiel_2">4.2.2.2. Device Beispiel</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_lcd">4.3. LCD</a></li>
<li><a href="#_lcd_i2c">4.4. LCD I2C</a>
<ul class="sectlevel3">
<li><a href="#_verkabelung_3">4.4.1. Verkabelung</a></li>
<li><a href="#_code_beispiel_3">4.4.2. Code Beispiel</a></li>
</ul>
</li>
<li><a href="#_motor_direction">4.5. Motor Direction</a></li>
<li><a href="#_motor_hardware_pwm">4.6. Motor Hardware PWM</a></li>
<li><a href="#_motor_software_pwm">4.7. Motor Software PWM</a></li>
<li><a href="#_potentiometer">4.8. Potentiometer</a>
<ul class="sectlevel3">
<li><a href="#_verkabelung_4">4.8.1. Verkabelung</a></li>
<li><a href="#_api">4.8.2. API</a></li>
<li><a href="#_anwendungsbeispiel">4.8.3. Anwendungsbeispiel</a></li>
</ul>
</li>
<li><a href="#_serial_camera">4.9. Serial Camera</a>
<ul class="sectlevel3">
<li><a href="#_verkabelung_5">4.9.1. Verkabelung</a></li>
<li><a href="#_api_2">4.9.2. API</a></li>
<li><a href="#_anwendungsbeispiel_2">4.9.3. Anwendungsbeispiel</a></li>
</ul>
</li>
<li><a href="#_raspberry_pi_camera">4.10. Raspberry Pi Camera</a>
<ul class="sectlevel3">
<li><a href="#_verkabelung_6">4.10.1. Verkabelung</a></li>
<li><a href="#_code_beispiel_4">4.10.2. Code Beispiel</a></li>
</ul>
</li>
<li><a href="#_servo_motor">4.11. Servo Motor</a></li>
<li><a href="#_stepper_motor">4.12. Stepper Motor</a></li>
</ul>
</li>
<li><a href="#_zusatzinformationen">5. Zusatzinformationen</a>
<ul class="sectlevel2">
<li><a href="#_grove_serial_camera">5.1. Grove Serial Camera</a>
<ul class="sectlevel3">
<li><a href="#_protokoll">5.1.1. Protokoll</a></li>
<li><a href="#_verbindung_mit_der_kamera_aufbauen">5.1.2. Verbindung mit der Kamera aufbauen</a></li>
<li><a href="#_jpeg_foto_anfordern">5.1.3. JPEG Foto anfordern</a></li>
<li><a href="#_bildgrösser_ermitteln">5.1.4. Bildgrösser ermitteln</a></li>
<li><a href="#_bild_pakete_empfangen">5.1.5. Bild Pakete empfangen</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_todo_schluss">TODO: Schluss</a></li>
<li><a href="#_todo_literaturverzeichnis">TODO: Literaturverzeichnis</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="imageblock">
<div class="content">
<img src="./assets/images/FHNW.png" alt="FHNW" width="382" height="59">
</div>
</div>
<h1 id="_ip5_fhnw_pi4j_tutorial" class="discrete">IP5: FHNW Pi4J Tutorial</h1>
<div class="paragraph">
<p><strong>Autoren</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Herr Jonathan Bättig (<a href="mailto:jonathan.baettig@students.fhnw.ch">jonathan.baettig@students.fhnw.ch</a>)</p>
</li>
<li>
<p>Herr Anessollah Ima (<a href="mailto:anessollah.ima@students.fhnw.ch">anessollah.ima@students.fhnw.ch</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>FHNW</strong><br>
<strong>Hochschule für Technik</strong><br>
<strong>Studiengang</strong> : Informatik<br>
<strong>Semester</strong> : 6BB</p>
</div>
<div class="paragraph">
<p><strong>Betreuende Dozenten</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Frau Dr. Barbara Scheuner (<a href="mailto:barbara.scheuner@fhnw.ch">barbara.scheuner@fhnw.ch</a>)</p>
</li>
<li>
<p>Herr Dr. Dieter Holz (<a href="mailto:dieter.holz@fhnw.ch">dieter.holz@fhnw.ch</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Datum</strong>: 2020-07-24</p>
</div>
<div style="page-break-after: always;"></div>
<h2 id="_inhaltsverzeichnis" class="discrete">Inhaltsverzeichnis</h2>
<!-- toc disabled -->
<div style="page-break-after: always;"></div>
<div class="sect1">
<h2 id="_todo_einleitung">TODO Einleitung</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_hardware">1. Hardware</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_raspberry_pi">1.1. Raspberry Pi</h3>

</div>
<div class="sect2">
<h3 id="_grove_sensoren_aktuatoren">1.2. Grove Sensoren &amp; Aktuatoren</h3>

</div>
<div class="sect2">
<h3 id="_grove_base_hat">1.3. Grove Base Hat</h3>
<div class="paragraph">
<p>Grove Sensoren und Aktuatoren sind beliebt und werden oft in Projekten eingesetzt. Sie verfügen über simple Steckverbindungen, sogenannte Adapter, welche in Kombination mit dem Grove Base Hat eine sichere und fehlerfreie Verbindung mit dem Raspberry Pi garantieren.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Grove_Base_Hat.png" alt="500" width="500" height="Grove Base Hat">
</div>
<div class="title">Figure 1. Grove Base Hat</div>
</div>
<div class="paragraph">
<p>Der Grove Base Hat stellt Adapter für PWM, Digital, Analog, UART sowie I2C zur Verfügung. Zusätzlich werden alle GPIO Pins auf den Hat projiziert. Unsere Implementation des Grove Adapters unterstützt alle diese Anschlüsse.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public enum GroveAdapter {
    A0(0x30, AdapterType.ANALOG),
    A2(0x32, AdapterType.ANALOG),
    A4(0x34, AdapterType.ANALOG),
    A6(0x36, AdapterType.ANALOG),
    D5(RaspiBcmPin.GPIO_05, RaspiBcmPin.GPIO_06, AdapterType.DIGITAL),
    D16(RaspiBcmPin.GPIO_16, RaspiBcmPin.GPIO_17, AdapterType.DIGITAL),
    D18(RaspiBcmPin.GPIO_18, RaspiBcmPin.GPIO_19, AdapterType.DIGITAL),
    D22(RaspiBcmPin.GPIO_22, RaspiBcmPin.GPIO_23, AdapterType.DIGITAL),
    D24(RaspiBcmPin.GPIO_24, RaspiBcmPin.GPIO_25, AdapterType.DIGITAL),
    D26(RaspiBcmPin.GPIO_26, RaspiBcmPin.GPIO_27, AdapterType.DIGITAL),
    I2C(I2CBus.BUS_1, AdapterType.I2C),
    PWM(RaspiBcmPin.GPIO_12, RaspiBcmPin.GPIO_13, AdapterType.PWM),
    UART(RaspiBcmPin.GPIO_14, RaspiBcmPin.GPIO_15, AdapterType.UART);

    private Adapter adapter;
    private int analogI2CBus = 0x04;

    GroveAdapter(Pin upperPin, Pin lowerPin, AdapterType type) {
        this.adapter = new Adapter(upperPin, lowerPin, type);
    }

    GroveAdapter(int deviceAddress, AdapterType type) { this.adapter = new Adapter(analogI2CBus, deviceAddress, type); }

    GroveAdapter(I2CBus bus, AdapterType type) { this.adapter = new Adapter(bus, type); }

    public Adapter getAdapter() {
        return adapter;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Sensoren und Aktuatoren können über unsere Implementation sehr einfach verwendet werden. Das untere Beispiel zeigt, wie ein Potentiometer, welcher am Grove Base Hat Adapter A0 angeschlossen ist, erzeugt und abgefragt werden kann.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">PotentiometerComponent potentiometer = new PotentiometerComponent(GroveAdapter.A0);
potentiometer.getValue()</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_pwm">1.3.1. PWM</h4>
<div class="paragraph">
<p>Der Grove Base Hat unterstütz die Hardware PWM Pins 12 sowie 13. Beide Pins sind im selben Adapter vereinigt.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uart">1.3.2. UART</h4>
<div class="paragraph">
<p>Der UART Adapter macht den Serial Bus der Raspberry Pi für Grove Sensoren und Aktuatoren verfügbar. Er benutzt die GPIO Pins 14 und 15. An diesem Port würden wir die Grove Serial Camera anschliessen, wenn diese mit 3.3 Volt kompatibel wäre.</p>
</div>
</div>
<div class="sect3">
<h4 id="_digital">1.3.3. Digital</h4>
<div class="paragraph">
<p>Der Grove Base Hat stellt sechs digitale Adapter zur Verfügung. Die Adapter stellen die Standard GPIO Pins des Pi dar. Die Pin Nummern entsprechen den Zahlen auf dem Board. Beispielsweise entspricht der Adapter D22 den Pins 22 und 23.</p>
</div>
</div>
<div class="sect3">
<h4 id="_analog">1.3.4. Analog</h4>
<div class="paragraph">
<p>Der Raspberry Pi selbst besitzt nur digitale GPIO Pins. Hier stellt uns der Grove Base Hat also zusätzliche Funktionalität zur Verfügung. An die vier analogen Adapter können analoge Sensoren und Aktuatoren angeschlossen werden. Diese kommunizieren mit einem Chip, welcher sich auf der Rückseite des Hats befindet. Dieser Chip wandelt dann die analogen Daten in ein digitales Format um. Zusätzlich implementiert der Chip das I2C Interface, über welches er mit dem Pi kommunizieren kann.</p>
</div>
<div class="paragraph">
<p>Der Chip hat die I2C Adresse 0x04. Die einzelnen analogen Anschlüsse haben jeweils eine eigene Device Adresse.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>A0</strong>: 0x30</p>
</li>
<li>
<p><strong>A2</strong>: 0x32</p>
</li>
<li>
<p><strong>A4</strong>: 0x34</p>
</li>
<li>
<p><strong>A6</strong>: 0x36</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_i2c">1.3.5. I2C</h4>
<div class="paragraph">
<p>Die drei I2C Anschlüsse sind alle mit dem I2C Bus 1 des Raspberry Pi verbunden. Mit I2C können mehrere Devices auf einmal angesteuert werden.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_breadboard">1.4. Breadboard</h3>

</div>
<div class="sect2">
<h3 id="_software">1.5. Software</h3>
<div class="sect3">
<h4 id="_pi4j">1.5.1. Pi4J</h4>

</div>
<div class="sect3">
<h4 id="_java">1.5.2. Java</h4>

</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup_des_raspberrypi">2. Setup des RaspberryPi</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Bevor Sie mit der Implementation ihres ersten Raspberry Pi Projekts starten können, muss der Mini-Computer aufgesetzt werden. Im Gegensatz zu den verschiedenen im Handel erhältichen Micro Controllern, wie Beispielsweise der Arduino Uno, benötigt der Pi ein Betriebssystem. Wir verwenden das auf Linux basierende System Raspbian, eine speziell für den Raspberry Pi modifiziertes Derbian.</p>
</div>
<div class="sect2">
<h3 id="_vorbereitung_der_mini_sd_karte">2.1. Vorbereitung der Mini SD-Karte</h3>
<div class="paragraph">
<p>Wie bereits erwähnt, verwenden wir für den Betrieb des Raspberry Pi das Linux OS Raspbian. Das Betriebssystem werden Sie später auf die Ihnen zur Verfügung gestellte Mini SD-Karte installieren.</p>
</div>
<div class="paragraph">
<p>In einem ersten Schritt laden Sie bitte das Raspbian Image aus dem Internet auf Ihren Rechner und speichern die Datei ab. Besuchen Sie hierfür die Download-Website der Raspberry Organisation:<br>
<a href="https://www.raspberrypi.org/downloads/raspbian/" class="bare">https://www.raspberrypi.org/downloads/raspbian/</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/raspbianDownload.png" alt="raspbianDownload" width="75% raspbian Download">
</div>
<div class="title">Figure 2. <em>Raspbian Download</em></div>
</div>
<div class="paragraph">
<p>Wählen Sie nun die Raspbian Version <code>Raspbian Buster with desktop</code> aus. Sobald Ihr Browser den Download abgeschlossen hat, extrahieren Sie bitte den Zip-Ordner an eine beliebige Stelle. Im extrahierten Ordner befindet sich eine .img-Datei, welche wir in den folgenden Installationsschritten benötigen werden. Merken Sie sich also, wo auf dem Dateisystem der entpackte Folder liegt.</p>
</div>
<div class="paragraph">
<p>Damit Sie das Raspbian Image auf Ihre SD-Karte installieren können, brauchen Sie eine geeignete Disk Imaging Software. Wir empfehlen Ihnen dafür balenaEtcher zu verwenden. Es gibt aber auch andere dafür geeignete Programme.</p>
</div>
<div class="paragraph">
<p>Wenn Sie sich ebenfalls für balenaEtcher entscheiden, können Sie das Programm über den folgenden Link direkt von der balena Webseite herunterladen und installieren:<br>
<a href="https://www.balena.io/etcher/" class="bare">https://www.balena.io/etcher/</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/balenaDownload.png" alt="balenaDownload" width="75% balenaEtcher Download">
</div>
<div class="title">Figure 3. <em>balenaEtcher Download</em></div>
</div>
<div class="paragraph">
<p>Nachdem Sie balenaEtcher installiert haben, können Sie die Applikation starten. In nur drei einfachen Schritten spiegelt balenaEtcher das Raspbian Image auf Ihre Mini SD-Karte.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/balenaStart.png" alt="balenaStart" width="75% balenaEtcher Startbildschirm">
</div>
<div class="title">Figure 4. <em>balenaEtcher Startbildschirm</em></div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Wählen Sie in einem ersten Schritt die .img-Datei des zuvor heruntergeladenen Raspbian aus.</p>
</li>
<li>
<p>Wählen Sie nun die Mini SD-Karte aus, welche Sie an Ihren PC angeschlossen haben. Bitte beachten Sie, dass die SD-Karte während der Installation formatiert wird und somit alle sich auf der Karte befindenden Daten unwiederruflich gelöscht werden.</p>
</li>
<li>
<p>Klicken Sie auf "Flash!" um die Installation des Images zu starten. Dieser Prozess kann einige Minuten in Anspruch nehmen.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Sobald der Flash Vorgang abgeschlossen wurde, ist Raspbian auf der SD-Karte installiert und das OS ist betriebsbereit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_raspberry_pi_mit_zusätzlicher_hardware_nutzen">2.2. Raspberry Pi mit zusätzlicher Hardware nutzen</h3>
<div class="paragraph">
<p>Wenn Sie den Raspberry Pi als normalen Desktop Rechner verwenden möchten, können Sie die vorbereitete Mini SD-Karte in den Pi einsetzen und weitere Hardware wie Maus, Monitor und Tastatur direkt an Ihren Pi anschliessen. Sobald Sie den Computer an das Stromnetz anschliessen, fährt Raspbian hoch und eine Login Maske erscheint.</p>
</div>
<div class="paragraph">
<p>Für das initiale Login auf dem Pi können Sie die folgenden Standard Credentials verwenden:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User</strong>: pi</p>
</li>
<li>
<p><strong>Passwort</strong>: raspberry</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_raspberry_pi_ohne_zusätzliche_hardware_nutzen">2.3. Raspberry Pi ohne zusätzliche Hardware nutzen</h3>
<div class="paragraph">
<p>Es gibt verschiedene Gründe, weshalb Sie den Raspberry Pi ohne zusätzliche Hardware verwenden möchten. Womöglich erfüllt der Pi die Mindestanforderungen Ihrer bevorzugten Entwicklungsumgebung nicht oder Ihnen steht schlicht und einfach nicht die nötige Hardware zur Verfügung. In diesem Kapitel möchten wir Ihnen aufzeigen, wie Sie den Mini Computer ganz ohne zusätzliche Hardware konfigurieren und verwenden können. Sie benötigen dazu ledeglich ein USB-Kabel und Ihren Laptop.</p>
</div>
<div class="paragraph">
<p>Um mit dem Raspberry Pi ohne zusätzliche Hardware arbeiten zu können, wird SSH verwendet. Damit Sie via SSH auf den Pi zugreifen können, benötigen Sie eine SSH Software. Ein beliebtes Tool ist PuTTY. Sie können es unter folgendem Link direkt vom Hersteller herunterladen und auf Ihrem Rechner installieren:<br>
<a href="https://www.putty.org/" class="bare">https://www.putty.org/</a></p>
</div>
<div class="sect3">
<h4 id="_zugriff_über_ssh">2.3.1. Zugriff über SSH</h4>
<div class="paragraph">
<p>Bevor Sie sich mit PuTTY via SSH auf den Pi einloggen können, müssen Sie SSH in Raspbian aktivieren. Dazu legen Sie die SD-Karte erneut in Ihren PC ein und navigieren anschliessend mittels Datei-Explorer in den <code>boot</code> Folder der SD-Karte.</p>
</div>
<div class="paragraph">
<p>Jetzt müssen Sie verschiedene Einstellungen direkt an den markierten Files im <code>boot</code> Ordner vornehmen:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/bootFolder.png" alt="bootFolder" width="75% boot Ordner">
</div>
<div class="title">Figure 5. <em>boot Ordner</em></div>
</div>
<div class="ulist">
<ul>
<li>
<p>Im File <code>config.txt</code> müssen Sie ganz am Schluss den folgenden Snippet hinzufügen:<br></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>dtoverlay=dwc2</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Im File <code>cmdline.txt</code> müssen Sie nach dem Text "rootwait" suchen und danach den folgenden Snippet hinzufügen:<br></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>modules-load=dwc2,g_ether</pre>
</div>
</div>
<div class="paragraph">
<p>Der relevante Ausschnitt des Files sieht dann zum Beispiel so aus:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/cmdLine.png" alt="cmdLine" width="75% cmdLine file">
</div>
<div class="title">Figure 6. <em>cmdLine File</em></div>
</div>
<div class="paragraph">
<p>Zu guter Letzt erstellen Sie ein leeres File ohne Dateiendung mit dem Namen <code>ssh</code>. Um dies zu erreichen, können Sie beispielsweise ein neues Textfile erstellen und dieses <code>ssh</code> nennen. Nun entfernen Sie die Dateiendung .txt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/activateSSH.png" alt="activateSSH" width="75% activate SSH">
</div>
<div class="title">Figure 7. <em>SSH aktivieren</em></div>
</div>
<div class="paragraph">
<p>Nun können Sie die Mini SD-Karte wieder in den Raspberry Pi einlegen und diesen mittels USB-Kabel an Ihren Computer anschliessen. Beim Startup von Raspbian untersucht das System den boot Folder und lädt Ihre neuen Einstellungen. Anschliessend können Sie PuTTY starten und mit der folgenden Konfiguration auf den Pi zugreifen.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/SSHputty.png" alt="SSHputty" width="65% SSH Zugriff">
</div>
<div class="title">Figure 8. <em>SSH Zugriff mit PuTTY</em></div>
</div>
<div class="paragraph">
<p>Im neuen Shell Fenster können Sie sich mit den Standard Credentials anmelden und den Raspberry Pi über die Konsole verwenden.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>User</strong>: pi</p>
</li>
<li>
<p><strong>Passwort</strong>: raspberry</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/puttyLogin.png" alt="puttyLogin" width="75% Login in PuTTY">
</div>
<div class="title">Figure 9. <em>Login in PuTTY</em></div>
</div>
</div>
<div class="sect3">
<h4 id="_zugriff_über_wifi">2.3.2. Zugriff über WiFi</h4>
<div class="paragraph">
<p>Die Verbindung zum Raspberry Pi via SSH funktioniert auch kabellos. Dafür muss sich Ihr Computer lediglich im gleichen Netzwerk befinden wie der Raspberry Pi. Zum Beispiel bei Ihnen Zuhause im WLAN oder über Ihren mobilen HotSpot. Damit der Pi auf das WLAN zugreifen kann, müssen Sie die SD-Karte erneut an Ihren Laptop anschliessen und eine neue Datei im boot Ordner erstellen. Das <code>wpa_supplicant.conf</code> File.</p>
</div>
<div class="paragraph">
<p>Wenn Sie bereits mit dem Pi über Kabel verbunden sind, können Sie die Datei auch direkt über die PuTTY Konsole erstellen. Mit dem unteren Befehl wird das File mit dem Text Editor <code>nano</code> erstellt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>sudo nano /etc/wpa_supplicant/wpa_supplicant.conf</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
country=CH

network={
    ssid="NETZWERK"
    psk="PASSWORT"
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bei <code>ssid</code> müssen Sie Ihren Netzwerknamen angeben und bei <code>psk</code> das Passwort. Sobald Sie die nötigen Einstellungen abgeschlossen haben, speichern Sie die getätigten Änderungen. Sofern nötig, schliessen Sie die SD-Karte wieder an den Raspberry Pi an.</p>
</div>
<div class="paragraph">
<p>Jetzt können Sie in PuTTY die IP-Adresse Ihres Raspberry Pi eingeben und sich somit direkt über das WLAN mit ihm verbinden.</p>
</div>
<div class="paragraph">
<p>Die IP Adresse Ihres Raspberry Pi können Sie über den Befehl <code>hostname -I</code> anzeigen lassen, sofern Sie bereits über Kabel mit dem Pi verbunden sind. Alternativ können Sie auch ein Tool auf Ihrem Laptop installieren, welches Ihr Netzwerk nach IPs scannt. Dafür haben wir den Advanced IP Scanner verwendet. Er ist einfach zu verwenden und seine Funktionalität ist selbsterklärend. Das Tool kann unter dem folgenden Link für Windows Rechner heruntergeladen werden:<br>
<a href="https://www.advanced-ip-scanner.com/de/" class="bare">https://www.advanced-ip-scanner.com/de/</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/advanced_ip_scanner.png" alt="advanced ip scanner" width="75% Advanced IP Scanner">
</div>
<div class="title">Figure 10. <em>Advanced IP Scanner</em></div>
</div>
</div>
<div class="sect3">
<h4 id="_zugriff_auf_ui_via_vnc_viewer">2.3.3. Zugriff auf UI via VNC Viewer</h4>
<div class="paragraph">
<p>Um ohne Monitor von den Vorzügen des grafischen User Interface von Raspbian profitieren zu können, kann man die VNC Funktionalitäten des Raspberry Pi verwenden. Dieses Feature muss allerdings zuerst in den Einstellungen des Raspberry Pi aktiviert werden.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Die Raspberry Pi Konfiguration mit dem Befehl <code>sudo raspi-config</code> öffnen.</p>
</li>
<li>
<p>Unter <code>Interfacing Options</code> zu <code>VNC</code> navigieren und die Auswahl bestätigen.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Der Pi ist nun für die Verwendung von VNC konfiguriert. Jetzt müssen Sie noch ein entsprechendes Tool auf Ihrem Rechner installieren. Wir haben mit der Software Real VNC Viewer gute Erfahrungen gemacht und würden Ihnen ebenfalls empfehlen, dieses Tool zu verwenden. Es untersützt eine breite Palette von Betriebssystemen, auf welchen es installiert werden kann. Das Tool kann über diese Webseite bezogen werden:<br>
<a href="https://www.realvnc.com/de/connect/download/viewer/" class="bare">https://www.realvnc.com/de/connect/download/viewer/</a></p>
</div>
<div class="paragraph">
<p>Beim Startup des Tools muss zuerst eine neue Verbindung angegeben werden. Diese wird dann für die künftige Verwendung abgespeichert.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/VNCViewer.png" alt="VNCViewer" width="70% VNC Viewer Zugriff auf Pi">
</div>
<div class="title">Figure 11. <em>VNC Viewer Zugriff auf Pi</em></div>
</div>
<div class="paragraph">
<p>Nach einem kurzen Verbindungsaufbau öffnet sich ein neues Fenster, welches einem den Remote Zugriff auf das User Interface des Raspberry Pi erlaubt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/installation/VNCViewerGUI.png" alt="VNCViewerGUI" width="70% VNC Viewer GUI von Raspbian">
</div>
<div class="title">Figure 12. <em>VNC Viewer GUI von Raspbian</em></div>
</div>
<div class="paragraph">
<p>Es kann gut sein, dass die Auflösung sowie die Grösse der Icons zu Beginn noch nicht optimal ist. Die Einstellungen können Sie wie folgend anpassen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Auflösung</strong>:<br>
<em>Preferences &#8594; Raspberry Pi Configuration &#8594; Display</em><br>
Hier können Sie unter "Set Resolution" die Auflösung verändern. Es kann sein, dass Sie zusätzlich die Option <em>"Underscan"</em> deaktivieren müssen, weil sie eventuell Ihre Einstellungen zur Auflösung überschreibt.</p>
</li>
<li>
<p><strong>Icon Grösse</strong>:<br>
<em>Preferences &#8594; Appearance Settings &#8594; System &#8594; Defaults</em><br>
Hier können Sie die Grösse der Icons gemäss Ihren Präferenzen ändern.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_todo_installation_von_zusätzlicher_software_auf_dem_pi">2.4. TODO: Installation von zusätzlicher Software auf dem Pi</h3>
<div class="sect3">
<h4 id="_java_2">2.4.1. Java</h4>

</div>
<div class="sect3">
<h4 id="_git">2.4.2. Git</h4>

</div>
<div class="sect3">
<h4 id="_gradle">2.4.3. Gradle</h4>

</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_code_auf_dem_pi_bauen">3. TODO: Code auf dem Pi bauen</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_beispiele">4. Beispiele</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In diesem Kapitel finden Sie für eine Vielzahl an gängigen Sensoren und Aktuatoren Code Beispiele sowie Beispiele zur Verkabelung. Für ein vollständiges Verständnis der Code Beispiele sind gewisse Vorkenntnisse von Nöten. Wir haben die Beispiele deshalb in Levels eingeteilt, an welchen Sie den Grad an nötigen Vorkenntnissen einfach erkennen können.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Level 1: Basic</strong></p>
<div class="ulist">
<ul>
<li>
<p>Variablen und Berechnungen: primitive Datentypen, Wertebereiche und deren Auswirkung beim Rechnen.</p>
</li>
<li>
<p>Methoden und Parameter: Deklaration, Aufruf, Signatur, Argumente und Rückgabewerte.</p>
</li>
<li>
<p>Kontrollstrukturen: Schleifen und Fallunterscheidungen.</p>
</li>
<li>
<p>Grundlagen Klassen, Objekte und Vererbung: Deklaration und Instanziierung von Klassen, Überladen und Überschreiben von Methoden, Vererbung, Polymorphie.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Level 2: Intermediate</strong></p>
<div class="ulist">
<ul>
<li>
<p>Verwendung grundlegender Datenstrukturen (List, Map, Set) und Iteratoren.</p>
</li>
<li>
<p>Generics und ihre Besonderheiten in Java.</p>
</li>
<li>
<p>Event Handling.</p>
</li>
<li>
<p>Collection-Streams und Lambda-Ausdrücke.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Level 3: Advanced</strong></p>
<div class="ulist">
<ul>
<li>
<p>Nebenläufigkeit mit Threads.</p>
</li>
<li>
<p>Strukturierung von Applikationen.</p>
</li>
<li>
<p>Daten-Persistenz (File-Handling, Serialisierung).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_blink_led">4.1. Blink LED</h3>
<div class="sect3">
<h4 id="_verkabelung">4.1.1. Verkabelung</h4>
<div class="paragraph">
<p>Für die Verkabelung wird folgende Hardware benötigt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>2x Kabel</p>
</li>
<li>
<p>1x LED</p>
</li>
<li>
<p>1x 220Ω Wiederstand</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/fritzing/blink_led.png" alt="blink led" width="75% LED Wiring">
</div>
<div class="title">Figure 13. LED Verkabelung</div>
</div>
</div>
<div class="sect3">
<h4 id="_code_beispiel">4.1.2. Code Beispiel</h4>
<div class="paragraph">
<p>Die blinkende LED ist das "Hello World"-Äquivalent der GPIO Programmierung. Mit dem nachfolgenden Code lassen wir eine LED im Abstand von einer Sekunde blinken.</p>
</div>
<div class="sect4">
<h5 id="_gpio_beispiel">4.1.2.1. GPIO Beispiel</h5>
<div class="paragraph">
<p><strong>Vorkenntnisse: Basic</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Override public void execute() throws Exception {
        GpioFactory.setDefaultProvider(new RaspiGpioProvider(RaspiPinNumberingScheme.BROADCOM_PIN_NUMBERING));
        final GpioController gpio = GpioFactory.getInstance();

        GpioPinDigitalOutput led = gpio.provisionDigitalOutputPin(RaspiBcmPin.GPIO_02, "Blinking LED", PinState.LOW);
        led.setShutdownOptions(true, PinState.LOW);

        Console console = new Console();
        console.promptForExit();

        long delay = 1000;
        console.println("start blinking with " + delay + " delay");

        while (console.isRunning()) {
            if (led.isLow()) {
                led.high();
                console.println("Led is high.");
            } else {
                led.low();
                console.println("Led is low.");
            }
            Thread.sleep(delay);
        }

        gpio.shutdown();
    }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_device_beispiel">4.1.2.2. Device Beispiel</h5>
<div class="paragraph">
<p><strong>Vorkenntnisse: Advanced</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Override public void execute() throws Exception {
        GpioFactory.setDefaultProvider(new RaspiGpioProvider(RaspiPinNumberingScheme.BROADCOM_PIN_NUMBERING));
        final GpioController gpio = GpioFactory.getInstance();

        GpioPinDigitalOutput led = gpio.provisionDigitalOutputPin(RaspiBcmPin.GPIO_02, "Blinking LED", PinState.LOW);
        led.setShutdownOptions(true, PinState.LOW);

        GpioLEDComponent ledComponent = new GpioLEDComponent(led);

        Console console = new Console();
        console.promptForExit();

        long delay = 1000;
        console.println("start blinking with " + delay + " delay");

        Future&lt;?&gt; blinkTask = ledComponent.blink(delay);
        while (!blinkTask.isDone() &amp;&amp; console.isRunning());

        gpio.shutdown();
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_button_click">4.2. Button Click</h3>
<div class="sect3">
<h4 id="_verkabelung_2">4.2.1. Verkabelung</h4>
<div class="paragraph">
<p>Für die Verkabelung wird folgende Hardware benötigt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>4x Kabel</p>
</li>
<li>
<p>1x Button</p>
</li>
<li>
<p>1x 220Ω Wiederstand</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/fritzing/button_click.png" alt="button click" width="75% Button Wiring">
</div>
<div class="title">Figure 14. Button Verkabelung</div>
</div>
</div>
<div class="sect3">
<h4 id="_code_beispiel_2">4.2.2. Code Beispiel</h4>
<div class="paragraph">
<p>In diesem Beispiel wird jeder Klick auf dem Button in der Konsole angezeigt.</p>
</div>
<div class="sect4">
<h5 id="_gpio_beispiel_2">4.2.2.1. GPIO Beispiel</h5>
<div class="paragraph">
<p><strong>Vorkenntnisse: Basic</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Override public void execute() throws Exception {
        GpioFactory.setDefaultProvider(new RaspiGpioProvider(RaspiPinNumberingScheme.BROADCOM_PIN_NUMBERING));
        final GpioController gpio = GpioFactory.getInstance();

        final GpioPinDigitalInput button = gpio.provisionDigitalInputPin(RaspiBcmPin.GPIO_03);
        button.setShutdownOptions(true);

        Console console = new Console();
        console.promptForExit();

        button.addListener((GpioPinListenerDigital) event -&gt; {
            if (event.getState().isHigh()) {
                console.println("button pressed");
            } else {
                console.println("button released");
            }
        });

        while (console.isRunning()) {
            Thread.sleep(10);
        }

        gpio.shutdown();
    }</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_device_beispiel_2">4.2.2.2. Device Beispiel</h5>
<div class="paragraph">
<p><strong>Vorkenntnisse: Intermediate</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Override public void execute() throws Exception {

        GpioProvider provider = new RaspiGpioProvider(
                RaspiPinNumberingScheme.BROADCOM_PIN_NUMBERING); //like on gpio Extension Board
        GpioFactory.setDefaultProvider(provider);

        final GpioController gpio = GpioFactory.getInstance();

        Console console = new Console();
        console.promptForExit();

        final GpioPinDigitalInput pin = gpio.provisionDigitalInputPin(RaspiBcmPin.GPIO_03, PinPullResistance.PULL_DOWN);

        // set shutdown state for this input pin
        pin.setShutdownOptions(true);

        GpioButtonComponent buttonComponent = new GpioButtonComponent(pin, PinState.HIGH, PinState.LOW);

        pin.addListener((GpioPinListenerDigital) event -&gt; {
            if (event.getState().isHigh()) {
                console.println("button pressed");
            } else {
                console.println("button released");
            }
        });

        while (console.isRunning()) {
            Thread.sleep(10);
        }

        gpio.shutdown();
    }</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lcd">4.3. LCD</h3>

</div>
<div class="sect2">
<h3 id="_lcd_i2c">4.4. LCD I2C</h3>
<div class="sect3">
<h4 id="_verkabelung_3">4.4.1. Verkabelung</h4>
<div class="paragraph">
<p>Für die Verkabelung wird folgende Hardware benötigt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>4x Kabel</p>
</li>
<li>
<p>1x LCD1602 I2C Modul mit PCF8574 I2C extender</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/fritzing/LCDI2C.png" alt="LCDI2C" width="75% I2C Wiring">
</div>
<div class="title">Figure 15. LCD I2C Modul Verkabelung</div>
</div>
</div>
<div class="sect3">
<h4 id="_code_beispiel_3">4.4.2. Code Beispiel</h4>
<div class="paragraph">
<p>In diesem Code Beispiel wird der Titel des Projekts in der ersten Zeile angezeigt und die Uhrzeit in der Zweiten. Die Uhrzeit wird im Sekundentakt aktualisiert.<br>
<strong>Vorkenntnisse: Basic</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    public void execute() {
        Console console = new Console();
        try {
            //find the address and the bus with the following command on the pi
            //sudo i2cdetect -y 1
            I2CLCD lcd = new I2CLCD(0x27, I2CBus.BUS_1);
            lcd.init();

            Scanner scanner = new Scanner(System.in);
            console.println("Please enter a text to be displayed above the system time");
            String text = scanner.nextLine();

            lcd.displayText(text, 1, 0, false);

            SimpleDateFormat formatter = new SimpleDateFormat("HH:mm:ss");
            while (true) {
                lcd.displayText(formatter.format((new Date())), 2, 4, false);
                Thread.sleep(1000);
            }
        } catch (Exception ex) {
            console.println(ex.toString());
        }
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_motor_direction">4.5. Motor Direction</h3>

</div>
<div class="sect2">
<h3 id="_motor_hardware_pwm">4.6. Motor Hardware PWM</h3>

</div>
<div class="sect2">
<h3 id="_motor_software_pwm">4.7. Motor Software PWM</h3>

</div>
<div class="sect2">
<h3 id="_potentiometer">4.8. Potentiometer</h3>
<div class="paragraph">
<p>Ein Potentiometer ist eine Art dynamischer Wiederstand, welcher durch das Drehen oder Verschieben eines Reglers vergrössert oder verkleinert werden kann. Der Grove Potentiometer gibt uns je nach eingestelltem Wiederstand einen Wert zwischen 0 und 1'000 zurück. Mit einem Potentiometer können wir also Werte einstellen, mit welchen wir dann einen Aktuator kontrollieren können. Zum Beispiel könnten wir mit einem Potentiometer die Helligkeit einer Leuchtdiode steuern.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Grove_Rotary_Angle_Sensor.jpg" alt="Grove Rotary Angle Sensor" width="75% Grove Rotary Angle Sensor">
</div>
<div class="title">Figure 16. Grove Potentiometer</div>
</div>
<div class="sect3">
<h4 id="_verkabelung_4">4.8.1. Verkabelung</h4>
<div class="paragraph">
<p>Für die Verkabelung wird folgende Hardware benötigt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1x Grove Potentiometer mit Grove Adapter Kabel</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/fritzing/Grove_Base_Hat_Rotary_Angel_Sensor.jpg" alt="Grove Base Hat Rotary Angel Sensor" width="75% Grove Rotary Angle Sensor Fritzing">
</div>
<div class="title">Figure 17. Grove Potentiometer Verkabelung</div>
</div>
</div>
<div class="sect3">
<h4 id="_api">4.8.2. API</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Potentiometer - Konstruktoren</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konstruktor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beschreibung</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PotentiometerComponent(GroveAdapter groveAdapter)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constructor of the PotentiometerComponent with Grove adapter.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Potentiometer - Funktionen</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rückgabetyp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Funktion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beschreibung</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getValue()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get the current value from the potentiometer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">void</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">setRange(int minValue, int maxValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the value returned by getValue() to a specific range. The difference between minValue and MaxValue must be between 10 and 999.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_anwendungsbeispiel">4.8.3. Anwendungsbeispiel</h4>
<div class="paragraph">
<p>Das Code Beispiel erzeugt ein neues <code>PotentiometerComponent</code>, welches am Grove Base Hat am analogen Adapter A0 anliegt. Mit der <code>setRange()</code> Funktion wird sichergestellt, dass die zurückgegebenen Werte zwischen 0 und 100 liegen. Der aktuelle Wert wird alle 500 Millisekunden geloggt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    @Override public void execute() throws Exception {
        Console console = new Console();
        console.promptForExit();

        PotentiometerComponent potentiometer = new PotentiometerComponent(GroveAdapter.A0);
        potentiometer.setRange(0, 100);

        while (console.isRunning()) {
            Thread.sleep(500);
            console.println(potentiometer.getValue());
        }
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_serial_camera">4.9. Serial Camera</h3>
<div class="paragraph">
<p>Die Grove Serial Camera besteht aus einem Kamera Modul und einem Control Board, welches die Kommunikation zwischen der Kamera und dem Raspberry Pi über den Serial Bus ermöglicht. Die Kamera benötigt eine Spannung von 5 Volt, weshalb sie leider nicht mit unserem Grove Hat kompatibel ist. Dieser liefert nur 3.3 Volt an die Grove Adapter. Um die Kamera dennoch nutzen zu können, muss sie via Jumper Kabel an den Serial Port des Raspberry Pi angeschlossen werden. Weitere Informationen zur Verkabelung können dem Tutorial entnommen werden.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Grove_Serial_Camera.jpg" alt="Grove Serial Camera" width="75% Grove Serial Camera">
</div>
<div class="title">Figure 18. Grove Serial Camera</div>
</div>
<div class="sect3">
<h4 id="_verkabelung_5">4.9.1. Verkabelung</h4>
<div class="paragraph">
<p>Für die Verkabelung wird folgende Hardware benötigt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1x Grove Serial Camera mit Grove Adapter Kabel</p>
</li>
<li>
<p>4x Kabel</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/fritzing/grove_serial_cam.png" alt="grove serial cam" width="75% Grove Serial Camera Fritzing">
</div>
<div class="title">Figure 19. Serial Camera Verkabelung</div>
</div>
</div>
<div class="sect3">
<h4 id="_api_2">4.9.2. API</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Serial Camera - Konstruktoren</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Konstruktor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beschreibung</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SerialCameraComponent(com.pi4j.util.Console console)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constructor of the SerialCameraComponent without logging and a default package size of 512 bytes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SerialCameraComponent(com.pi4j.util.Console console, boolean activateLogging)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constructor of the SerialCameraComponent with a default package size of 512 bytes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SerialCameraComponent(com.pi4j.util.Console console, int packageSize)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constructor of the SerialCameraComponent without logging.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SerialCameraComponent(com.pi4j.util.Console console, int packageSize, boolean activateLogging)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constructor of the SerialCameraComponent.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Serial Camera - Funktionen</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rückgabetyp</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Funktion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beschreibung</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">byte[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">getImageAsJpgBytes()</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This method request a jpg image of the camera and returns it as a byte array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">saveImageAsJpg(java.lang.String fileName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests a jpg image from the camera and streams it to a file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">java.lang.String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">saveImageAsJpg(java.lang.String relativePath, java.lang.String fileName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requests a jpg image from the camera and streams it to a file.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_anwendungsbeispiel_2">4.9.3. Anwendungsbeispiel</h4>
<div class="paragraph">
<p>Das unten abgebildete Code Beispiel zeigt, wie mit der Hilfe unserer SerialCameraComponent ein JPEG Foto geschossen und unter einem bestimmten Pfad abgespeichert werden kann.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">        GpioFactory.setDefaultProvider(new RaspiGpioProvider(RaspiPinNumberingScheme.BROADCOM_PIN_NUMBERING));
        Console console = new Console();
        console.promptForExit();

        console.println("taking a picture. please smile :)");
        SerialCameraComponent cam = new SerialCameraComponent(console, 1024, true);
        String fileName = cam.saveImageAsJpg("pictures", "GroveCamPic_");
        console.println("picture was taken and saved in file " + fileName);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_raspberry_pi_camera">4.10. Raspberry Pi Camera</h3>
<div class="sect3">
<h4 id="_verkabelung_6">4.10.1. Verkabelung</h4>
<div class="paragraph">
<p>Für die Verkabelung wird folgende Hardware benötigt:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>1x Raspberry Pi Camera mit Flachbandkabel</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/fritzing/raspiCam.png" alt="raspiCam" width="60% RaspiCam Wiring">
</div>
<div class="title">Figure 20. Raspberry Pi Camera Verkabelung</div>
</div>
</div>
<div class="sect3">
<h4 id="_code_beispiel_4">4.10.2. Code Beispiel</h4>
<div class="paragraph">
<p>In diesem Code Beispiel wird die Raspberry Pi Camera mit einer externen Library verwendet. Es werden 10 Bilder nacheinander geschossen und in den Ordner <code>/home/pi/Pictures/PiCamPics</code> gespeichert. <br>
<strong>Vorkenntnisse: Intermediate</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    public void execute() throws Exception {
        Console console = new Console();
        console.promptForExit();
        long start = System.currentTimeMillis();

        //configuration for pictures using raspistill
        CameraConfiguration stillConfig = RaspberryPiCameraComponent.createCameraConfiguration()
                .width(1920)
                .height(1080)
                .encoding(Encoding.JPEG)
                .quality(85)
                .rotation(180);


        //configuration for videos using raspivid
        RaspiVidConfiguration vidConfig = new RaspiVidConfiguration()
                .verticalflip()
                .previewOff()
                .time(15000);

        //initialise the camera component using the two configurations
        RaspberryPiCameraComponent raspberryPiCamera = new RaspberryPiCameraComponent(console, stillConfig, vidConfig);

        console.println("Config done");

        raspberryPiCamera.takeStill("/home/pi/Pictures/picam1.jpg", 3000);
        raspberryPiCamera.takeStill("/home/pi/Pictures/picam2.jpg");

        //take video
        raspberryPiCamera.takeVid("/home/pi/Pictures/video.h264");

        long diff = System.currentTimeMillis() - start;
        System.out.println("Elapsed time" + diff);
    }</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_servo_motor">4.11. Servo Motor</h3>

</div>
<div class="sect2">
<h3 id="_stepper_motor">4.12. Stepper Motor</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_zusatzinformationen">5. Zusatzinformationen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_grove_serial_camera">5.1. Grove Serial Camera</h3>
<div class="paragraph">
<p>Die Grove Serial Camera ist eines der komplexeren Devices, welches von unserer Library unterstützt wird. Zur Kommunikation über den Serial Bus wird ein spezielles Protokoll eingesetzt. In den folgenden Unterkapiteln finden Sie weitere Informationen zu jenem Protokoll und unserer Implementation davon.</p>
</div>
<div class="sect3">
<h4 id="_protokoll">5.1.1. Protokoll</h4>
<div class="paragraph">
<p>Die Datenübermittlung zwischen Kamera und Pi erfolgt über den Serial Bus und das OV528 Protokoll. Die einzelnen Kommandos umfassen jeweils 6 Bytes, welche zusammen als Paket übermittelt werden. Das nachfolgende Beispiel zeigt das SYNC Kommando, welches jeweils zu Beginn der Kommunikation vom Pi ausgesendet wird. Folgende Bytes werden übermittelt: AA0D00000000h.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Grove_Serial_Camera_SYNC_Command.png" alt="500" width="500" height="Grove Serial Camera SYNC">
</div>
<div class="title">Figure 21. SYNC Kommando</div>
</div>
</div>
<div class="sect3">
<h4 id="_verbindung_mit_der_kamera_aufbauen">5.1.2. Verbindung mit der Kamera aufbauen</h4>
<div class="paragraph">
<p>Bevor Befehle an die Kamera gesendet werden können, muss eine Verbindung zwischen Kamera und Raspberry Pi etabliert werden. Dazu wird vom Host mehrmals ein SYNC Kommando auf den Serial Port geschrieben und auf eine Antwort von der Kamera gewartet. Durchschnittlich antwortet die Kamera nach 25 SYNC Kommandos mit einem ACK (AA0E0Dxx0000h). Auf die Empfangsbestätigung folgt das Kommando, welches die Kamera bestätigt. In diesem Fall das SYNC Kommando (AA0D00000000h). Gibt die Kamera nach 60 SYNC Befehlen noch immer keine Antwort, kann davon ausgegangen werden, dass etwas mit der Verkabelung der Kamera nicht stimmt oder der Controller der Kamera defekt ist.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Grove_Serial_Camera_Initialisation.png" alt="500" width="500" height="Grove Serial Camera Connection">
</div>
<div class="title">Figure 22. Verbindungsaufbau</div>
</div>
<div class="paragraph">
<p>In unserer Java Klasse haben wir den Verbindungsaufbau in einer eigenen Funktion realisiert, welche vom jeweiligen Konstruktor aufgerufen wird. In einer While-Schlaufe wird das SYNC Kommando solange an die Kamera gesendet, bis diese eine Antwort auf den Serial Bus geschrieben hat. Ist dies nach 60 Versuchen nicht der Fall, wird die Initialisierung mit einem Fehler abgebrochen. Hat die Kamera eine Antwort gesendet, wird diese auf Ihre Korrektheit überprüft. Die ersten sechs Bytes müssen dem ACK Kommando entsprechen (AA0E0Dxx0000h). Bei den nächsten sechs Bytes muss es sich um das SYNC Kommando handeln (AA0D00000000h). Sofern dies der Fall ist, war der Verbindungsaufbau erfolgreich. Die Kamera ist nun bereit für die Entgegennahme von weiteren Befehlen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    private void initializeSerialBusCommunication() {
        try {
            int tryCount = 0;
            byte[] syncCommand = { (byte) 0xaa, 0x0d, 0x00, 0x00, 0x00, 0x00 };
            byte[] ackCommand = { (byte) 0xaa, 0x0e, 0x0d, 0x00, 0x00, 0x00 };

            logMessage("initializing communication with the camera");

            while (serial.available() == 0 &amp;&amp; tryCount &lt; syncRetryCount) {
                serial.write(syncCommand);
                tryCount++;
                Thread.sleep(100);
            }

            if (tryCount &gt;= syncRetryCount) {
                throw new IOException("tried to sync with camera for " + tryCount + " without success");
            }

            logMessage("camera responded after " + tryCount + " requests");
            byte[] bytes = serial.read(6);
            clearDataFromSerialInput();

            if (bytes[0] == 0xaa &amp;&amp; bytes[1] == 0x0e &amp;&amp; bytes[2] == 0x0d &amp;&amp; bytes[4] == 0x00 &amp;&amp; bytes[5] == 0x00) {
                logMessage("received response is a valid acknowledgement");
                logMessage("waiting for sync from camera");
                bytes = serial.read(6);

                if (bytes[0] == 0xaa &amp;&amp; bytes[1] == 0x0d &amp;&amp; bytes[2] == 0x00 &amp;&amp; bytes[3] == 0x00 &amp;&amp; bytes[4] == 0x00
                        &amp;&amp; bytes[5] == 0x00) {
                    logMessage("received sync from the camera");
                    logMessage("sending sync acknowledgement to camera");
                    serial.write(ackCommand);
                    logMessage("serial bus communication between camera and pi is ready");
                }
            }

            clearDataFromSerialInput();
        } catch (Exception ex) {
            console.println(ex);
        }
    }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_jpeg_foto_anfordern">5.1.3. JPEG Foto anfordern</h4>
<div class="paragraph">
<p>Nach dem erfolgreichen Verbindungsaufbau ist die Kamera bereit für das Schiessen von Bildern. Unsere Implementation stellt Bilder im JPEG Format in der Auflösung 640 x 480 zur Verfügung. Hierbei handelt es sich um die maximale Auflösung der Kamera. Theoretisch können auch Bilder in anderen Grössen und Formaten von der Kamera angefordert werden. Diese Formate werden von uns jedoch nicht unterstützt.</p>
</div>
<div class="paragraph">
<p>Um ein Bild von der Kamera zu erhalten, sind mehrere einzelne Schritte, Befehle und Bestätigungen nötig. Diese sind im folgenden Diagramm ersichtlich.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./assets/images/Grove_Serial_Camera_Get_Picture.png" alt="500" width="500" height="Grove Serial Camera Get Picture">
</div>
<div class="title">Figure 23. Ablauf der Bildanforderung</div>
</div>
</div>
<div class="sect3">
<h4 id="_bildgrösser_ermitteln">5.1.4. Bildgrösser ermitteln</h4>
<div class="paragraph">
<p>Zur Ermittlung der Bildgrösse wird die gewünschte Paketgrösse der einzelnen Pakete benötigt. Die Paketgrösse kann vom Anwender im Bereich von 16 bis 2048 Bits definiert werden. Die Default Paketgrösse ist 512 Bits.</p>
</div>
<div class="paragraph">
<p>Als erster Schritt wird die zuvor definierte gewünschte Paketgrösse an die Kamera gesendet und es wird auf eine Empfangsbestätigung der Kamera gewartet.</p>
</div>
<div class="paragraph">
<p>Anschliessend wird das Snapshot Kommando an die Kamera gesendet. Dieses Kommando bereitet die Kamera auf das Erzeugen eines Bildes vor. Auch hier wird wieder auf eine Empfangsbestätigung der Kamera gewartet.</p>
</div>
<div class="paragraph">
<p>Zu guter Letzt wird der Befehl zur JPEG Generierung an die Kamera übermittelt. Die Kamera antwortet auf dieses Kommando mit einer Empfangsbestätigung gefolgt von der Anzahl Bytes des Bildes, welches geschossen wurde.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    private int getPictureLengthFromCamera() throws IOException, InterruptedException {
        int pictureLength = 0;

        byte[] setPackageSizeCommand = { (byte) 0xaa, 0x06, 0x08, (byte) (packageSize &amp; 0xff),
                (byte) ((packageSize &gt;&gt; 8) &amp; 0xff), 0x00 };
        byte[] snapshotCommand = { (byte) 0xaa, 0x05, 0x00, 0x00, 0x00, 0x00 };
        byte[] getPictureCommand = { (byte) 0xaa, 0x04, 0x01, 0x00, 0x00, 0x00 };

        logMessage("sending the desired package size to the camera");
        serial.write(setPackageSizeCommand);

        while (serial.available() &lt; 6) {
            Thread.sleep(10);
        }

        logMessage("received a response from the camera");
        byte[] bytes = serial.read(6);

        if (bytes[0] == (byte) 0xaa &amp;&amp; bytes[1] == (byte) 0x0e &amp;&amp; bytes[2] == (byte) 0x06 &amp;&amp; bytes[4] == (byte) 0x00
                &amp;&amp; bytes[5] == (byte) 0x00) {
            logMessage("response was a valid package size acknowledgement");
        }

        logMessage("sending snapshot command");
        serial.write(snapshotCommand);

        while (serial.available() &lt; 6) {
            Thread.sleep(10);
        }

        logMessage("received a response from the camera");
        bytes = serial.read(6);

        if (bytes[0] == (byte) 0xaa &amp;&amp; bytes[1] == (byte) 0x0e &amp;&amp; bytes[2] == (byte) 0x05 &amp;&amp; bytes[4] == (byte) 0x00
                &amp;&amp; bytes[5] == (byte) 0x00) {
            logMessage("response was a valid snapshot acknowledgement");
        }

        logMessage("sending get picture length command");
        serial.write(getPictureCommand);

        while (serial.available() &lt; 6) {
            Thread.sleep(10);
        }

        logMessage("received a response from the camera");
        bytes = serial.read(6);

        if (bytes[0] == (byte) 0xaa &amp;&amp; bytes[1] == (byte) 0x0e &amp;&amp; bytes[2] == (byte) 0x04 &amp;&amp; bytes[4] == (byte) 0x00
                &amp;&amp; bytes[5] == (byte) 0x00) {
            logMessage("response was a valid picture length acknowledgement");
            logMessage("reading the next 6 bytes to get the picture length");
            bytes = serial.read(6);

            if (bytes[0] == (byte) 0xaa &amp;&amp; bytes[1] == 0x0a &amp;&amp; bytes[2] == 0x01) {
                pictureLength = (int) bytes[3] + (bytes[4] &lt;&lt; 8) + (bytes[5] &lt;&lt; 16);
                logMessage("picture length is: " + pictureLength);
            }
        }

        return pictureLength;
    }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_bild_pakete_empfangen">5.1.5. Bild Pakete empfangen</h4>
<div class="paragraph">
<p>Nachdem die Bildgrösse von der Kamera ermittelt wurde, kann der Host Paket für Paket von der Kamera über den Serial Bus anfordern. Wir fordern solange Pakete von der Kamera an, bis wir das letzte Paket von der Kamera erhalten haben. Das letzte Paket erkennen wir anhand der letzten zwei Bytes. Handelt es sich bei diesen um 0xFF gefolgt von 0xD9, wurde das komplette JPEG übermittelt. Bei den zwei Bytes handelt es sich nämlich um den Footer eines jeden JPEGs.</p>
</div>
<div class="paragraph">
<p>Da es bei der Übermittlung von Paketen immer zu Fehlern kommen kann, stellt das OV528 Protokoll einen Kontrollmechanismus zur Verfügung, über welchen Fehler identifiziert werden können. Bei den zwei letzten Bytes eines jeden Pakets handelt es sich um eine Prüfsumme, mit welchen die übermittelten Bilddaten überprüft werden können. Die Prüfsumme muss exakt der Summe der einzelnen übermittelten Bytes entsprechen. Ist dies der Fall, fordern wir das nächste Paket von der Kamera an. Stimmt die Prüfsumme jedoch nicht mit der Summe aller Bild-Bytes überein, fordern wir das fehlerhafte Paket erneut von der Kamera an. Damit kann sichergestellt werden, dass das erhaltene Bild immer fehlerfrei ist.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">    private byte[] getJpgBytes(int pictureLength) throws IOException, InterruptedException {
        byte[] receiveDataPackageCommand = { (byte) 0xaa, 0x0e, 0x00, 0x00, 0x00, 0x00 };
        byte[] ackPackageEndCommand = { (byte) 0xaa, 0x0e, 0x00, 0x00, (byte) 0xf0, (byte) 0xF0 };

        int successCount = 0;
        boolean pictureEnd = false;
        ByteArrayOutputStream camStream = new ByteArrayOutputStream();
        ByteBuffer imageBuffer = ByteBuffer.allocate(packageSize);

        while (!pictureEnd) {
            receiveDataPackageCommand[4] = (byte) successCount;
            receiveDataPackageCommand[5] = (byte) (successCount &gt;&gt; 8);

            serial.write(receiveDataPackageCommand);

            while (imageBuffer.position() &lt; packageSize &amp;&amp; !pictureEnd) {
                pictureEnd = lastPackageComplete(imageBuffer);
                if (!pictureEnd) {
                    Thread.sleep(10);
                    imageBuffer.put(serial.read());
                }
            }

            byte[] receivedData = imageBuffer.array();
            imageBuffer.position(0);
            byte calculatedCheckSum = getCheckSum(receivedData);
            byte receivedCheckSum = receivedData[receivedData.length - 1 + lowCheckSumBitPosition];

            if (calculatedCheckSum == receivedCheckSum || pictureEnd) {
                int byteCount = getIntegerFromBytes(receivedData[lowDataSizeBit], receivedData[highDataSizeBit]);
                lastWrittenByte = receivedData[receivedData.length - 3];
                camStream.write(receivedData, 4, byteCount);
                logMessage("package at " + successCount + " was handled successfully");
                successCount++;
            } else {
                logMessage("calculated check sum is " + calculatedCheckSum);
                logMessage("received check sum is " + receivedCheckSum);
                logMessage("package error at package " + successCount);
                logMessage(" =&gt; retry");
            }
        }

        logMessage("read a total of " + camStream.size() + " bytes");
        logMessage("pure picture length was " + pictureLength);
        logMessage("sending package end acknowledgement to camera");
        serial.write(ackPackageEndCommand);

        return camStream.toByteArray();
    }</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_schluss">TODO: Schluss</h2>
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_todo_literaturverzeichnis">TODO: Literaturverzeichnis</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-07-24 10:19:54 +0200
</div>
</div>
</body>
</html>